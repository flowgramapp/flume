{"version":3,"file":"index.js","sources":["../node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js","../node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js","../node_modules/@reach/auto-id/dist/reach-auto-id.esm.js","../node_modules/style-inject/dist/style-inject.es.js","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../node_modules/lodash/_baseClamp.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/clamp.js","../node_modules/nanoid/non-secure/index.js","../src/components/ContextMenu/ContextMenu.js","../src/context.js","../src/components/Draggable/Draggable.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/toString.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/get.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/identity.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseMap.js","../node_modules/lodash/_baseSortBy.js","../node_modules/lodash/_compareAscending.js","../node_modules/lodash/_compareMultiple.js","../node_modules/lodash/_baseOrderBy.js","../node_modules/lodash/orderBy.js","../src/constants.js","../src/components/Stage/Stage.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/curve/basis.js","../src/connectionCalculator.js","../src/components/Checkbox/Checkbox.js","../src/components/TextInput/TextInput.js","../src/components/Select/Select.js","../src/components/Control/Control.js","../src/components/Connection/Connection.js","../src/hooks/usePrevious.js","../src/components/IoPorts/IoPorts.js","../src/components/Node/Node.js","../src/typeBuilders.js","../src/components/ColorPicker/ColorPicker.js","../src/components/Comment/Comment.js","../src/components/Toaster/Toaster.js","../src/components/Connections/Connections.js","../src/utilities.js","../src/nodesReducer.js","../src/commentsReducer.js","../src/toastsReducer.js","../src/stageReducer.js","../src/Cache.js","../src/RootEngine.js","../src/index.js"],"sourcesContent":["function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\nexport { canUseDOM };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { canUseDOM } from '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { useState, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\n\n/*\n * Welcome to @reach/auto-id!\n\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibility APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\n * useId\n *\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n *\n * Note: The returned ID will initially be `null` and will update after a\n * component mounts. Users may need to supply their own ID if they need\n * consistent values for SSR.\n *\n * @see Docs https://reach.tech/auto-id\n */\n\n\nfunction useId(idFromProps) {\n  /*\n   * If this instance isn't part of the initial render, we don't have to do the\n   * double render/patch-up dance. We can just generate the ID and return it.\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _React$useState = useState(initialId),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n       * rendering flicker, though it'll make the first render slower (unlikely\n       * to matter, but you're welcome to measure your app and let us know if\n       * it's a problem).\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\n       * Flag all future uses of `useId` to skip the update dance. This is in\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n       * accidentally bail out of the patch-up dance prematurely.\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n}\n\nexport { useId };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0–9 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nmodule.exports = function (size) {\n  var id = ''\n  i = size || 21\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0]\n  }\n  return id\n}\n","import React from \"react\";\nimport styles from \"./ContextMenu.css\";\nimport clamp from \"lodash/clamp\";\nimport nanoid from \"nanoid/non-secure/index\";\n\nconst ContextMenu = ({\n  x,\n  y,\n  options = [],\n  onRequestClose,\n  onOptionSelected,\n  label,\n  hideHeader,\n  hideFilter,\n  emptyText\n}) => {\n  const menuWrapper = React.useRef();\n  const menuOptionsWrapper = React.useRef();\n  const filterInput = React.useRef();\n  const [filter, setFilter] = React.useState(\"\");\n  const [menuWidth, setMenuWidth] = React.useState(0);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const menuId = React.useRef(nanoid(10));\n\n  const handleOptionSelected = option => {\n    onOptionSelected(option);\n    onRequestClose();\n  };\n\n  const testClickOutside = React.useCallback(\n    e => {\n      if (menuWrapper.current && !menuWrapper.current.contains(e.target)) {\n        onRequestClose();\n        document.removeEventListener(\"click\", testClickOutside, { capture: true });\n        document.removeEventListener(\"contextmenu\", testClickOutside, { capture: true });\n      }\n    },\n    [menuWrapper, onRequestClose]\n  );\n\n  const testEscape = React.useCallback(\n    e => {\n      if (e.keyCode === 27) {\n        onRequestClose();\n        document.removeEventListener(\"keydown\", testEscape, { capture: true });\n      }\n    },\n    [onRequestClose]\n  );\n\n  React.useEffect(() => {\n    if (filterInput.current) {\n      filterInput.current.focus();\n    }\n    setMenuWidth(menuWrapper.current.getBoundingClientRect().width);\n    document.addEventListener(\"keydown\", testEscape, { capture: true });\n    document.addEventListener(\"click\", testClickOutside, { capture: true });\n    document.addEventListener(\"contextmenu\", testClickOutside, { capture: true });\n    return () => {\n      document.removeEventListener(\"click\", testClickOutside, { capture: true });\n      document.removeEventListener(\"contextmenu\", testClickOutside, { capture: true });\n      document.removeEventListener(\"keydown\", testEscape, { capture: true });\n    };\n  }, [testClickOutside, testEscape]);\n\n  const filteredOptions = React.useMemo(() => {\n    if (!filter) return options;\n    const lowerFilter = filter.toLowerCase();\n    return options.filter(opt => opt.label.toLowerCase().includes(lowerFilter));\n  }, [filter, options]);\n\n  const handleFilterChange = e => {\n    const value = e.target.value;\n    setFilter(value);\n    setSelectedIndex(0);\n  };\n\n  const handleKeyDown = e => {\n    // Up pressed\n    if (e.which === 38) {\n      e.preventDefault();\n      if (selectedIndex === null) {\n        setSelectedIndex(0);\n      } else if (selectedIndex > 0) {\n        setSelectedIndex(i => i - 1);\n      }\n    }\n    // Down pressed\n    if (e.which === 40) {\n      e.preventDefault();\n      if (selectedIndex === null) {\n        setSelectedIndex(0);\n      } else if (selectedIndex < filteredOptions.length - 1) {\n        setSelectedIndex(i => i + 1);\n      }\n    }\n    // Enter pressed\n    if (e.which === 13 && selectedIndex !== null) {\n      const option = filteredOptions[selectedIndex];\n      if (option) {\n        handleOptionSelected(option);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    if (hideFilter || hideHeader) {\n      menuWrapper.current.focus();\n    }\n  }, [hideFilter, hideHeader]);\n\n  React.useEffect(() => {\n    const menuOption = document.getElementById(\n      `${menuId.current}-${selectedIndex}`\n    );\n    if (menuOption) {\n      const menuRect = menuOptionsWrapper.current.getBoundingClientRect();\n      const optionRect = menuOption.getBoundingClientRect();\n      if (\n        optionRect.y + optionRect.height > menuRect.y + menuRect.height ||\n        optionRect.y < menuRect.y\n      ) {\n        menuOption.scrollIntoView({ block: \"nearest\" });\n      }\n    }\n  }, [selectedIndex]);\n\n  return (\n    <div\n      className={styles.menuWrapper}\n      onMouseDown={e => e.stopPropagation()}\n      onKeyDown={handleKeyDown}\n      style={{\n        left: x,\n        top: y,\n        width: filter ? menuWidth : \"auto\"\n      }}\n      ref={menuWrapper}\n      tabIndex={0}\n      role=\"menu\"\n      aria-activedescendant={`${menuId.current}-${selectedIndex}`}\n    >\n      {!hideHeader && (label ? true : !!options.length) ? (\n        <div className={styles.menuHeader}>\n          <label className={styles.menuLabel}>{label}</label>\n          {!hideFilter && options.length ? (\n            <input\n              type=\"text\"\n              placeholder=\"Filter options\"\n              value={filter}\n              onChange={handleFilterChange}\n              className={styles.menuFilter}\n              autoFocus\n              ref={filterInput}\n            />\n          ) : null}\n        </div>\n      ) : null}\n      <div\n        className={styles.optionsWrapper}\n        role=\"menu\"\n        ref={menuOptionsWrapper}\n        style={{ maxHeight: clamp(window.innerHeight - y - 70, 10, 300) }}\n      >\n        {filteredOptions.map((option, i) => (\n          <ContextOption\n            menuId={menuId.current}\n            selected={selectedIndex === i}\n            onClick={() => handleOptionSelected(option)}\n            onMouseEnter={() => setSelectedIndex(null)}\n            index={i}\n            key={option.value + i}\n          >\n            <label>{option.label}</label>\n            {option.description ? <p>{option.description}</p> : null}\n          </ContextOption>\n        ))}\n        {!options.length ? (\n          <span className={styles.emptyText}>{emptyText}</span>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nconst ContextOption = ({\n  menuId,\n  index,\n  children,\n  onClick,\n  selected,\n  onMouseEnter\n}) => {\n  return (\n    <div\n      className={styles.option}\n      role=\"menuitem\"\n      onClick={onClick}\n      onMouseEnter={onMouseEnter}\n      data-selected={selected}\n      id={`${menuId}-${index}`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default ContextMenu;\n","import React from 'react'\n\nexport const NodeTypesContext = React.createContext()\nexport const PortTypesContext = React.createContext()\nexport const NodeDispatchContext = React.createContext()\nexport const ConnectionRecalculateContext = React.createContext()\nexport const ContextContext = React.createContext()\nexport const StageContext = React.createContext()\nexport const CacheContext = React.createContext()\nexport const RecalculateStageRectContext = React.createContext()\nexport const EditorIdContext = React.createContext()\n","import React from \"react\";\n\nexport default ({\n  children,\n  stageState,\n  stageRect,\n  onDragDelayStart,\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  onMouseDown,\n  onTouchStart,\n  disabled,\n  delay = 6,\n  innerRef,\n  ...rest\n}) => {\n  const startCoordinates = React.useRef(null);\n  const offset = React.useRef();\n  const wrapper = React.useRef();\n\n  const byScale = value => (1 / stageState.scale) * value;\n\n  const getScaledCoordinates = e => {\n    const x =\n      byScale(\n        e.clientX -\n          (stageRect ? stageRect.current.left : 0) -\n          offset.current.x -\n          (stageRect ? stageRect.current.width : 0) / 2\n      ) + byScale(stageState.translate.x);\n    const y =\n      byScale(\n        e.clientY -\n          (stageRect ? stageRect.current.top : 0) -\n          offset.current.y -\n          (stageRect ? stageRect.current.height : 0) / 2\n      ) + byScale(stageState.translate.y);\n    return { x, y };\n  };\n\n  const updateCoordinates = e => {\n    const coordinates = getScaledCoordinates(e);\n    if (onDrag) {\n      onDrag(coordinates, e);\n    }\n  };\n\n  const stopDrag = e => {\n    const coordinates = getScaledCoordinates(e);\n    if (onDragEnd) {\n      onDragEnd(e, coordinates);\n    }\n    window.removeEventListener(\"mouseup\", stopDrag);\n    window.removeEventListener(\"mousemove\", updateCoordinates);\n  };\n\n  const startDrag = e => {\n    if (onDragStart) {\n      onDragStart(e);\n    }\n    const nodeRect = wrapper.current.getBoundingClientRect();\n    offset.current = {\n      x: startCoordinates.current.x - nodeRect.left,\n      y: startCoordinates.current.y - nodeRect.top\n    };\n    window.addEventListener(\"mouseup\", stopDrag);\n    window.addEventListener(\"mousemove\", updateCoordinates);\n  };\n\n  const checkDragDelay = e => {\n    let x;\n    let y;\n    if (\"ontouchstart\" in window && e.touches) {\n      x = e.touches[0].clientX;\n      y = e.touches[0].clientY;\n    } else {\n      e.preventDefault();\n      x = e.clientX;\n      y = e.clientY;\n    }\n    let a = Math.abs(startCoordinates.current.x - x);\n    let b = Math.abs(startCoordinates.current.y - y);\n    let distance = Math.round(Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)));\n    let dragDistance = delay;\n    if (distance >= dragDistance) {\n      startDrag(e);\n      endDragDelay();\n    }\n  };\n\n  const endDragDelay = () => {\n    document.removeEventListener(\"mouseup\", endDragDelay);\n    document.removeEventListener(\"mousemove\", checkDragDelay);\n    startCoordinates.current = null;\n  };\n\n  const startDragDelay = e => {\n    if (onDragDelayStart) {\n      onDragDelayStart(e);\n    }\n    e.stopPropagation();\n    let x;\n    let y;\n    if (\"ontouchstart\" in window && e.touches) {\n      x = e.touches[0].clientX;\n      y = e.touches[0].clientY;\n    } else {\n      e.preventDefault();\n      x = e.clientX;\n      y = e.clientY;\n    }\n    startCoordinates.current = { x, y };\n    document.addEventListener(\"mouseup\", endDragDelay);\n    document.addEventListener(\"mousemove\", checkDragDelay);\n  };\n\n  return (\n    <div\n      onMouseDown={e => {\n        if (!disabled) {\n          startDragDelay(e);\n        }\n        if (onMouseDown) {\n          onMouseDown(e);\n        }\n      }}\n      onTouchStart={e => {\n        if (!disabled) {\n          startDragDelay(e);\n        }\n        if (onTouchStart) {\n          onTouchStart(e);\n        }\n      }}\n      onDragStart={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n      ref={ref => {\n        wrapper.current = ref;\n        if (innerRef) {\n          innerRef.current = ref;\n        }\n      }}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n};\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","export const STAGE_ID = '__node_editor_stage__'\nexport const DRAG_CONNECTION_ID = '__node_editor_drag_connection__'\nexport const CONNECTIONS_ID = '__node_editor_connections__'\n","import React from \"react\";\nimport styles from \"./Stage.css\";\nimport { Portal } from \"react-portal\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport { NodeTypesContext, NodeDispatchContext } from \"../../context\";\nimport Draggable from \"../Draggable/Draggable\";\nimport orderBy from \"lodash/orderBy\";\nimport clamp from \"lodash/clamp\";\nimport { STAGE_ID } from '../../constants'\n\nconst Stage = ({\n  scale,\n  translate,\n  editorId,\n  dispatchStageState,\n  children,\n  outerStageChildren,\n  numNodes,\n  stageRef,\n  spaceToPan,\n  dispatchComments,\n  disableComments,\n  disablePan,\n  disableZoom\n}) => {\n  const nodeTypes = React.useContext(NodeTypesContext);\n  const dispatchNodes = React.useContext(NodeDispatchContext);\n  const wrapper = React.useRef();\n  const translateWrapper = React.useRef();\n  const [menuOpen, setMenuOpen] = React.useState(false);\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\n  const dragData = React.useRef({ x: 0, y: 0 });\n  const [spaceIsPressed, setSpaceIsPressed] = React.useState(false);\n\n  const setStageRect = React.useCallback(() => {\n    stageRef.current = wrapper.current.getBoundingClientRect();\n  }, []);\n\n  React.useEffect(() => {\n    stageRef.current = wrapper.current.getBoundingClientRect();\n    window.addEventListener(\"resize\", setStageRect);\n    return () => {\n      window.removeEventListener(\"resize\", setStageRect);\n    };\n  }, [stageRef, setStageRect]);\n\n  const handleWheel = React.useCallback(\n    e => {\n      if (e.target.nodeName === \"TEXTAREA\" || e.target.dataset.comment) {\n        if (e.target.clientHeight < e.target.scrollHeight) return;\n      }\n      e.preventDefault();\n      if (numNodes > 0) {\n        const delta = e.deltaY;\n        dispatchStageState(({ scale }) => ({\n          type: \"SET_SCALE\",\n          scale: clamp(scale - clamp(delta, -10, 10) * 0.005, 0.1, 7)\n        }));\n      }\n    },\n    [dispatchStageState, numNodes]\n  );\n\n  const handleDragDelayStart = e => {\n    wrapper.current.focus();\n  };\n\n  const handleDragStart = e => {\n    e.preventDefault();\n    dragData.current = {\n      x: e.clientX,\n      y: e.clientY\n    };\n  };\n\n  const handleMouseDrag = (coords, e) => {\n    const xDistance = dragData.current.x - e.clientX;\n    const yDistance = dragData.current.y - e.clientY;\n    translateWrapper.current.style.transform = `translate(${-(\n      translate.x + xDistance\n    )}px, ${-(translate.y + yDistance)}px)`;\n  };\n\n  const handleDragEnd = e => {\n    const xDistance = dragData.current.x - e.clientX;\n    const yDistance = dragData.current.y - e.clientY;\n    dragData.current.x = e.clientX;\n    dragData.current.y = e.clientY;\n    dispatchStageState(({ translate: tran }) => ({\n      type: \"SET_TRANSLATE\",\n      translate: {\n        x: tran.x + xDistance,\n        y: tran.y + yDistance\n      }\n    }));\n  };\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\n    setMenuOpen(true);\n    return false;\n  };\n\n  const closeContextMenu = () => {\n    setMenuOpen(false);\n  };\n\n  const byScale = value => (1 / scale) * value;\n\n  const addNode = ({ node, internalType }) => {\n    const wrapperRect = wrapper.current.getBoundingClientRect();\n    const x =\n      byScale(menuCoordinates.x - wrapperRect.x - wrapperRect.width / 2) +\n      byScale(translate.x);\n    const y =\n      byScale(menuCoordinates.y - wrapperRect.y - wrapperRect.height / 2) +\n      byScale(translate.y);\n    if (internalType === \"comment\") {\n      dispatchComments({\n        type: \"ADD_COMMENT\",\n        x,\n        y\n      });\n    } else {\n      dispatchNodes({\n        type: \"ADD_NODE\",\n        x,\n        y,\n        nodeType: node.type\n      });\n    }\n  };\n\n  const handleDocumentKeyUp = e => {\n    if (e.which === 32) {\n      setSpaceIsPressed(false);\n      document.removeEventListener(\"keyup\", handleDocumentKeyUp);\n    }\n  };\n\n  const handleKeyDown = e => {\n    if (e.which === 32 && document.activeElement === wrapper.current) {\n      e.preventDefault();\n      e.stopPropagation();\n      setSpaceIsPressed(true);\n      document.addEventListener(\"keyup\", handleDocumentKeyUp);\n    }\n  };\n\n  const handleMouseEnter = () => {\n    if (!wrapper.current.contains(document.activeElement)) {\n      wrapper.current.focus();\n    }\n  };\n\n  React.useEffect(() => {\n    if(!disableZoom){\n      let stageWrapper = wrapper.current;\n      stageWrapper.addEventListener(\"wheel\", handleWheel);\n      return () => {\n        stageWrapper.removeEventListener(\"wheel\", handleWheel);\n      };\n    }\n  }, [handleWheel, disableZoom]);\n\n  const menuOptions = React.useMemo(\n    () => {\n      const options = orderBy(\n        Object.values(nodeTypes)\n          .filter(node => node.addable !== false)\n          .map(node => ({\n            value: node.type,\n            label: node.label,\n            description: node.description,\n            sortIndex: node.sortIndex,\n            node\n          })),\n        [\"sortIndex\", \"label\"]\n      )\n      if(!disableComments){\n        options.push({ value: \"comment\", label: \"Comment\", description: \"A comment for documenting nodes\", internalType: \"comment\" })\n      }\n      return options\n    },\n    [nodeTypes, disableComments]\n  );\n\n  return (\n    <Draggable\n      id={`${STAGE_ID}${editorId}`}\n      className={styles.wrapper}\n      innerRef={wrapper}\n      onContextMenu={handleContextMenu}\n      onMouseEnter={handleMouseEnter}\n      onDragDelayStart={handleDragDelayStart}\n      onDragStart={handleDragStart}\n      onDrag={handleMouseDrag}\n      onDragEnd={handleDragEnd}\n      onKeyDown={handleKeyDown}\n      tabIndex={-1}\n      stageState={{ scale, translate }}\n      style={{ cursor: spaceIsPressed && spaceToPan ? \"grab\" : \"\" }}\n      disabled={disablePan || (spaceToPan && !spaceIsPressed)}\n      data-flume-stage={true}\n    >\n      {menuOpen ? (\n        <Portal>\n          <ContextMenu\n            x={menuCoordinates.x}\n            y={menuCoordinates.y}\n            options={menuOptions}\n            onRequestClose={closeContextMenu}\n            onOptionSelected={addNode}\n            label=\"Add Node\"\n          />\n        </Portal>\n      ) : null}\n      <div\n        ref={translateWrapper}\n        className={styles.transformWrapper}\n        style={{ transform: `translate(${-translate.x}px, ${-translate.y}px)` }}\n      >\n        <div\n          className={styles.scaleWrapper}\n          style={{ transform: `scale(${scale})` }}\n        >\n          {children}\n        </div>\n      </div>\n      {outerStageChildren}\n    </Draggable>\n  );\n};\nexport default Stage;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import styles from \"./components/Connection/Connection.css\";\nimport { CONNECTIONS_ID } from './constants'\nimport { line, curveBasis } from 'd3-shape'\n\nconst getPort = (nodeId, portName, transputType = \"input\") => document\n  .querySelector(\n    `[data-node-id=\"${nodeId}\"] [data-port-name=\"${portName}\"][data-port-transput-type=\"${transputType}\"]`\n  )\n\nexport const getPortRect = (nodeId, portName, transputType = \"input\", cache) => {\n  if(cache){\n    const portCacheName = nodeId + portName + transputType;\n    const cachedPort = cache.current.ports[portCacheName];\n    if(cachedPort){\n      return cachedPort.getBoundingClientRect();\n    }else{\n      const port = getPort(nodeId, portName, transputType)\n      cache.current.ports[portCacheName] = port;\n      return port && port.getBoundingClientRect();\n    }\n  }else{\n    const port = getPort(nodeId, portName, transputType);\n    return port && port.getBoundingClientRect();\n  }\n}\n\nexport const getPortRectsByNodes = (nodes, forEachConnection) =>\n  Object.values(nodes).reduce((obj, node) => {\n    if (node.connections && node.connections.inputs) {\n      Object.entries(node.connections.inputs).forEach(\n        ([inputName, outputs]) => {\n          outputs.forEach(output => {\n            const toRect = getPortRect(node.id, inputName);\n            const fromRect = getPortRect(\n              output.nodeId,\n              output.portName,\n              \"output\"\n            );\n            if (forEachConnection) {\n              forEachConnection({\n                to: toRect,\n                from: fromRect,\n                name: output.nodeId + output.portName + node.id + inputName\n              });\n            }\n            obj[node.id + inputName] = toRect;\n            obj[output.nodeId + output.portName] = fromRect;\n          });\n        }\n      );\n    }\n    return obj;\n  }, {});\n\nexport const calculateCurve = (from, to) => {\n  const length = to.x - from.x;\n  const thirdLength = length / 3;\n  const curve = line().curve(curveBasis)([\n    [from.x, from.y],\n    [from.x + thirdLength, from.y],\n    [from.x + thirdLength * 2, to.y],\n    [to.x, to.y]\n  ]);\n  return curve;\n};\n\nexport const deleteConnection = ({ id }) => {\n  const line = document.querySelector(`[data-connection-id=\"${id}\"]`);\n  if (line) line.parentNode.remove();\n};\n\nexport const deleteConnectionsByNodeId = nodeId => {\n  const lines = document.querySelectorAll(\n    `[data-output-node-id=\"${nodeId}\"], [data-input-node-id=\"${nodeId}\"]`\n  );\n  for (const line of lines) {\n    line.parentNode.remove();\n  }\n};\n\nexport const updateConnection = ({ line, from, to }) => {\n  line.setAttribute(\"d\", calculateCurve(from, to));\n};\n\nexport const createSVG = ({\n  from,\n  to,\n  stage,\n  id,\n  outputNodeId,\n  outputPortName,\n  inputNodeId,\n  inputPortName,\n  stroke\n}) => {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.setAttribute(\"class\", styles.svg);\n  const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  const curve = calculateCurve(from, to)\n  path.setAttribute(\"d\", curve)\n  path.setAttribute(\"stroke\", stroke);\n  path.setAttribute(\"stroke-width\", \"3\");\n  path.setAttribute(\"stroke-linecap\", \"round\");\n  path.setAttribute(\"fill\", \"none\");\n  path.setAttribute(\"data-connection-id\", id);\n  path.setAttribute(\"data-output-node-id\", outputNodeId);\n  path.setAttribute(\"data-output-port-name\", outputPortName);\n  path.setAttribute(\"data-input-node-id\", inputNodeId);\n  path.setAttribute(\"data-input-port-name\", inputPortName);\n  svg.appendChild(path);\n  stage.appendChild(svg);\n  return svg;\n};\n\nexport const getStageRef = editorId =>\n  document.getElementById(`${CONNECTIONS_ID}${editorId}`);\n\nexport const createConnections = (nodes, {scale, stageId}, editorId, portTypes) => {\n  const stageRef = getStageRef(editorId);\n  if(stageRef){\n    const stage = stageRef.getBoundingClientRect();\n    const stageHalfWidth = stage.width / 2;\n    const stageHalfHeight = stage.height / 2;\n\n    const byScale = value => (1 / scale) * value;\n\n    Object.values(nodes).forEach(node => {\n      if (node.connections && node.connections.inputs) {\n        Object.entries(node.connections.inputs).forEach(\n          ([inputName, outputs], k) => {\n            outputs.forEach(output => {\n              const fromPort = getPortRect(\n                output.nodeId,\n                output.portName,\n                \"output\"\n              );\n              const toPort = getPortRect(node.id, inputName, \"input\");\n              const portHalf = fromPort ? fromPort.width / 2 : 0;\n              if (fromPort && toPort) {\n                const id = output.nodeId + output.portName + node.id + inputName;\n                const existingLine = document.querySelector(\n                  `[data-connection-id=\"${id}\"]`\n                );\n                if (existingLine) {\n                  updateConnection({\n                    line: existingLine,\n                    from: {\n                      x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\n                    },\n                    to: {\n                      x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\n                    }\n                  });\n                } else {\n                  // const x = document.querySelector(\n                  //   `[data-input-node-id=\"${output.nodeId}\"]`\n                  // );\n                  // console.log(x ? x.dataset : null, output);\n                  // const stroke = portTypes[inputName].color;\n                  createSVG({\n                    id,\n                    outputNodeId: output.nodeId,\n                    outputPortName: output.portName,\n                    inputNodeId: node.id,\n                    inputPortName: inputName,\n                    stroke: 'rgba(200, 200, 200, 0.9)',\n                    from: {\n                      x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\n                    },\n                    to: {\n                      x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\n                    },\n                    stage: stageRef\n                  });\n                }\n              }\n            });\n          }\n        );\n      }\n    });\n  }\n};\n","import React from \"react\";\nimport styles from \"./Checkbox.css\";\nimport nanoid from \"nanoid/non-secure/index\";\n\nconst Checkbox = ({ label, data, onChange }) => {\n  const id = React.useRef(nanoid(10));\n\n  return (\n    <div className={styles.wrapper}>\n      <input\n        className={styles.checkbox}\n        type=\"checkbox\"\n        id={id}\n        value={data}\n        checked={data}\n        onChange={e => onChange(e.target.checked)}\n      />\n      <label className={styles.label} htmlFor={id}>\n        {label}\n      </label>\n    </div>\n  );\n};\n\nexport default Checkbox;\n","import React from \"react\";\nimport styles from \"./TextInput.css\";\nimport { RecalculateStageRectContext } from '../../context'\n\nconst TextInput = ({\n  placeholder,\n  updateNodeConnections,\n  onChange,\n  data,\n  step,\n  type\n}) => {\n  const numberInput = React.useRef()\n  const recalculateStageRect = React.useContext(RecalculateStageRectContext)\n\n  const handleDragEnd = () => {\n    document.removeEventListener(\"mousemove\", handleMouseMove);\n    document.removeEventListener(\"mouseup\", handleDragEnd);\n  };\n\n  const handleMouseMove = e => {\n    e.stopPropagation();\n    updateNodeConnections();\n  };\n\n  const handlePossibleResize = e => {\n    e.stopPropagation();\n    recalculateStageRect();\n    document.addEventListener(\"mousemove\", handleMouseMove);\n    document.addEventListener(\"mouseup\", handleDragEnd);\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      {type === \"number\" ? (\n        <input\n          onKeyDown={e => {\n            if(e.keyCode === 69){\n              e.preventDefault()\n              return false;\n            }\n          }}\n          onChange={e => {\n            const inputValue = e.target.value.replace(/[^0-9.]+/g, '');\n            if (!!inputValue) {\n              const value = parseFloat(inputValue, 10);\n              if (Number.isNaN(value)) {\n                onChange(0);\n              } else {\n                onChange(value);\n                numberInput.current.value = value;\n              }\n            }\n          }}\n          onBlur={e => {\n            if (!e.target.value) {\n              onChange(0);\n              numberInput.current.value = 0;\n            }\n          }}\n          step={step || \"1\"}\n          onMouseDown={handlePossibleResize}\n          type={type || \"text\"}\n          placeholder={placeholder}\n          className={styles.input}\n          defaultValue={data}\n          onDragStart={e => e.stopPropagation()}\n          ref={numberInput}\n        />\n      ) : (\n        <textarea\n          onChange={e => onChange(e.target.value)}\n          onMouseDown={handlePossibleResize}\n          type=\"text\"\n          placeholder={placeholder}\n          className={styles.input}\n          value={data}\n          onDragStart={e => e.stopPropagation()}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TextInput;\n","import React from \"react\";\nimport selectStyles from \"../Select/Select.css\";\nimport { Portal } from \"react-portal\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport styles from \"./Select.css\";\n\nconst MAX_LABEL_LENGTH = 50;\n\nconst Select = ({\n  options = [],\n  placeholder = \"[Select an option]\",\n  onChange,\n  data,\n  allowMultiple\n}) => {\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\n  const [drawerCoordinates, setDrawerCoordinates] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const wrapper = React.useRef();\n\n  const closeDrawer = () => {\n    setDrawerOpen(false);\n  };\n\n  const openDrawer = () => {\n    if (!drawerOpen) {\n      const wrapperRect = wrapper.current.getBoundingClientRect();\n      setDrawerCoordinates({\n        x: wrapperRect.x,\n        y: wrapperRect.y + wrapperRect.height\n      });\n      setDrawerOpen(true);\n    }\n  };\n\n  const handleOptionSelected = option => {\n    if(allowMultiple){\n      onChange([...data, option.value]);\n    }else{\n      onChange(option.value)\n    }\n  };\n\n  const handleOptionDeleted = optionIndex => {\n    onChange([...data.slice(0, optionIndex), ...data.slice(optionIndex + 1)]);\n  };\n\n  const getFilteredOptions = () => (\n    allowMultiple ?\n    options.filter(opt => !data.includes(opt.value))\n    : options\n  )\n\n  const selectedOption = React.useMemo(() => {\n    const option = options.find(o => o.value === data);\n    if (option) {\n      return {\n        ...option,\n        label:\n          option.label.length > MAX_LABEL_LENGTH\n            ? option.label.slice(0, MAX_LABEL_LENGTH) + \"...\"\n            : option.label\n      };\n    }\n  }, [options, data]);\n\n  return (\n    <React.Fragment>\n      {allowMultiple ? (\n        data.length ? (\n          <div className={styles.chipsWrapper}>\n            {data.map((val, i) => {\n              const optLabel =\n                (options.find(opt => opt.value === val) || {}).label || \"\";\n              return (\n                <OptionChip\n                  onRequestDelete={() => handleOptionDeleted(i)}\n                  key={val}\n                >\n                  {optLabel}\n                </OptionChip>\n              );\n            })}\n          </div>\n        ) : null\n      ) : data ? (\n        <SelectedOption\n          wrapperRef={wrapper}\n          option={selectedOption}\n          onClick={openDrawer}\n        />\n      ) : null}\n      {\n        (allowMultiple || !data) &&\n        <div className={selectStyles.wrapper} ref={wrapper} onClick={openDrawer}>\n          {placeholder}\n        </div>\n      }\n      {drawerOpen && (\n        <Portal>\n          <ContextMenu\n            x={drawerCoordinates.x}\n            y={drawerCoordinates.y}\n            emptyText=\"There are no options\"\n            options={getFilteredOptions()}\n            onOptionSelected={handleOptionSelected}\n            onRequestClose={closeDrawer}\n          />\n        </Portal>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Select;\n\nconst SelectedOption = ({\n  option: { label, description } = {},\n  wrapperRef,\n  onClick\n}) => (\n  <div className={styles.selectedWrapper} onClick={onClick} ref={wrapperRef}>\n    <label>{label}</label>\n    {description ? <p>{description}</p> : null}\n  </div>\n);\n\nconst OptionChip = ({ children, onRequestDelete }) => (\n  <div className={styles.chipWrapper}>\n    {children}\n    <button\n      className={styles.deleteButton}\n      onMouseDown={e => {\n        e.stopPropagation();\n      }}\n      onClick={onRequestDelete}\n    >\n      ✕\n    </button>\n  </div>\n);\n","import React from \"react\";\nimport styles from \"./Control.css\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport TextInput from \"../TextInput/TextInput\";\nimport Select from \"../Select/Select\";\nimport { NodeDispatchContext, ContextContext } from \"../../context\";\n\nconst Control = ({\n  type,\n  name,\n  nodeId,\n  portName,\n  label,\n  inputLabel,\n  data,\n  allData,\n  render,\n  step,\n  options = [],\n  placeholder,\n  inputData,\n  triggerRecalculation,\n  updateNodeConnections,\n  getOptions,\n  setValue,\n  defaultValue,\n  isMonoControl\n}) => {\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const executionContext = React.useContext(ContextContext);\n\n  const calculatedLabel = isMonoControl ? inputLabel : label;\n\n  const onChange = data => {\n    nodesDispatch({\n      type: \"SET_PORT_DATA\",\n      data,\n      nodeId,\n      portName,\n      controlName: name,\n      setValue\n    });\n    triggerRecalculation();\n  };\n\n  const getControlByType = type => {\n    const commonProps = {\n      triggerRecalculation,\n      updateNodeConnections,\n      onChange,\n      data\n    };\n    switch (type) {\n      case \"select\":\n        return (\n          <Select\n            {...commonProps}\n            options={\n              getOptions ? getOptions(inputData, executionContext) : options\n            }\n            placeholder={placeholder}\n          />\n        );\n      case \"text\":\n        return <TextInput {...commonProps} placeholder={placeholder} />;\n      case \"number\":\n        return (\n          <TextInput {...commonProps} step={step} type=\"number\" placeholder={placeholder} />\n        );\n      case \"checkbox\":\n        return <Checkbox {...commonProps} label={calculatedLabel} />;\n      case \"multiselect\":\n        return (\n          <Select\n            allowMultiple\n            {...commonProps}\n            options={\n              getOptions ? getOptions(inputData, executionContext) : options\n            }\n            placeholder={placeholder}\n            label={label}\n          />\n        );\n      case \"custom\":\n        return render(data, onChange, executionContext, triggerRecalculation, {\n          label,\n          name,\n          portName,\n          inputLabel,\n          defaultValue\n        }, allData);\n      default:\n        return <div>Control</div>;\n    }\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      {calculatedLabel && type !== \"checkbox\" && type !== \"custom\" && (\n        <label className={styles.controlLabel}>{calculatedLabel}</label>\n      )}\n      {getControlByType(type)}\n    </div>\n  );\n};\n\nexport default Control;\n","import React from \"react\";\nimport {calculateCurve} from '../../connectionCalculator'\nimport styles from \"./Connection.css\";\n\nconst Connection = ({\n  from,\n  to,\n  id,\n  lineRef,\n  outputNodeId,\n  outputPortName,\n  inputNodeId,\n  inputPortName,\n  stroke\n}) => {\n  const curve = calculateCurve(from, to)\n  return (\n    <svg className={styles.svg}>\n      <path\n        data-connection-id={id}\n        data-output-node-id={outputNodeId}\n        data-output-port-name={outputPortName}\n        data-input-node-id={inputNodeId}\n        data-input-port-name={inputPortName}\n        stroke={stroke}\n        fill=\"none\"\n        strokeWidth={3}\n        strokeLinecap=\"round\"\n        d={curve}\n        ref={lineRef}\n      />\n    </svg>\n  );\n};\n\nexport default Connection;\n","import React from 'react'\n\nconst usePrevious = value => {\n  const ref = React.useRef();\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default usePrevious\n","import React from \"react\";\nimport styles from \"./IoPorts.css\";\nimport { Portal } from \"react-portal\";\nimport {\n  NodeDispatchContext,\n  ConnectionRecalculateContext,\n  StageContext,\n  ContextContext,\n  EditorIdContext\n} from \"../../context\";\nimport Control from \"../Control/Control\";\nimport Connection from \"../Connection/Connection\";\nimport { PortTypesContext } from \"../../context\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport { calculateCurve, getPortRect } from \"../../connectionCalculator\";\nimport { STAGE_ID, DRAG_CONNECTION_ID } from '../../constants'\n\nfunction useTransputs (transputsFn, transputType, nodeId, inputData, connections) {\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const executionContext = React.useContext(ContextContext);\n\n  const transputs = React.useMemo(() => {\n    if (Array.isArray(transputsFn)) return transputsFn;\n    return transputsFn(inputData, connections, executionContext);\n  }, [transputsFn, inputData, connections, executionContext]);\n  const prevTransputs = usePrevious(transputs);\n\n  React.useEffect(() => {\n    if (!prevTransputs || Array.isArray(transputsFn)) return;\n    for (const transput of prevTransputs) {\n      const current = transputs.find(({ name }) => transput.name === name);\n      if (!current) {\n        nodesDispatch({\n          type: 'DESTROY_TRANSPUT',\n          transputType,\n          transput: { nodeId, portName: '' + transput.name }\n        });\n      }\n    }\n  }, [transputsFn, transputs, prevTransputs, nodesDispatch, nodeId, transputType]);\n\n  return transputs;\n}\n\nconst IoPorts = ({\n  nodeId,\n  inputs = [],\n  outputs = [],\n  connections,\n  inputData,\n  updateNodeConnections\n}) => {\n  const inputTypes = React.useContext(PortTypesContext);\n  const triggerRecalculation = React.useContext(ConnectionRecalculateContext);\n  const resolvedInputs = useTransputs(inputs, 'input', nodeId, inputData, connections);\n  const resolvedOutputs = useTransputs(outputs, 'output', nodeId, inputData, connections);\n  \n  return (\n    <div className={styles.wrapper}>\n      {resolvedInputs.length ? (\n        <div className={styles.inputs}>\n          {resolvedInputs.map(input => (\n            <Input\n              {...input}\n              data={inputData[input.name] || {}}\n              isConnected={!!connections.inputs[input.name]}\n              triggerRecalculation={triggerRecalculation}\n              updateNodeConnections={updateNodeConnections}\n              inputTypes={inputTypes}\n              nodeId={nodeId}\n              inputData={inputData}\n              key={input.name}\n            />\n          ))}\n        </div>\n      ) : null}\n      {!!resolvedOutputs.length && (\n        <div className={styles.outputs}>\n          {resolvedOutputs.map(output => (\n            <Output\n              {...output}\n              triggerRecalculation={triggerRecalculation}\n              inputTypes={inputTypes}\n              nodeId={nodeId}\n              inputData={inputData}\n              portOnRight\n              key={output.name}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IoPorts;\n\nconst Input = ({\n  type,\n  label,\n  name,\n  nodeId,\n  data,\n  controls: localControls,\n  inputTypes,\n  noControls,\n  triggerRecalculation,\n  updateNodeConnections,\n  isConnected,\n  inputData,\n  hidePort\n}) => {\n  const { label: defaultLabel, color, controls: defaultControls = [] } =\n    inputTypes[type] || {};\n  const prevConnected = usePrevious(isConnected);\n\n  const controls = localControls || defaultControls;\n\n  React.useEffect(() => {\n    if (isConnected !== prevConnected) {\n      triggerRecalculation();\n    }\n  }, [isConnected, prevConnected, triggerRecalculation]);\n\n  return (\n    <div\n      className={styles.transput}\n      data-controlless={isConnected || noControls || !controls.length}\n      onDragStart={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n    >\n      {!hidePort ? (\n        <Port\n          type={type}\n          color={color}\n          name={name}\n          nodeId={nodeId}\n          isInput\n          triggerRecalculation={triggerRecalculation}\n        />\n      ) : null}\n      {(!controls.length || noControls || isConnected) && (\n        <label className={styles.portLabel}>{label || defaultLabel}</label>\n      )}\n      {!noControls && !isConnected\n        ? (\n          <div className={styles.controls}>\n            {\n              controls.map(control => (\n                  <Control\n                    {...control}\n                    nodeId={nodeId}\n                    portName={name}\n                    triggerRecalculation={triggerRecalculation}\n                    updateNodeConnections={updateNodeConnections}\n                    inputLabel={label}\n                    data={data[control.name]}\n                    allData={data}\n                    key={control.name}\n                    inputData={inputData}\n                    isMonoControl={controls.length === 1}\n                  />\n                ))\n            }\n          </div>\n        )\n        : null}\n    </div>\n  );\n};\n\nconst Output = ({\n  label,\n  name,\n  nodeId,\n  type,\n  inputTypes,\n  triggerRecalculation\n}) => {\n  const { label: defaultLabel, color } = inputTypes[type] || {};\n\n  return (\n    <div\n      className={styles.transput}\n      data-controlless={true}\n      onDragStart={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n    >\n      <label className={styles.portLabel}>{label || defaultLabel}</label>\n      <Port\n        type={type}\n        name={name}\n        color={color}\n        nodeId={nodeId}\n        triggerRecalculation={triggerRecalculation}\n      />\n    </div>\n  );\n};\n\nconst Port = ({\n  color = \"grey\",\n  name = \"\",\n  type,\n  isInput,\n  nodeId,\n  triggerRecalculation\n}) => {\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const stageState = React.useContext(StageContext);\n  const editorId = React.useContext(EditorIdContext);\n  const stageId = `${STAGE_ID}${editorId}`\n  const inputTypes = React.useContext(PortTypesContext);\n  const [isDragging, setIsDragging] = React.useState(false);\n  const [dragStartCoordinates, setDragStartCoordinates] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const dragStartCoordinatesCache = React.useRef(dragStartCoordinates);\n  const port = React.useRef();\n  const line = React.useRef();\n  const lineInToPort = React.useRef();\n\n  const byScale = value => (1 / stageState.scale) * value;\n\n  const handleDrag = e => {\n    const stage = document\n      .getElementById(stageId)\n      .getBoundingClientRect();\n\n    if (isInput) {\n      const to = {\n        x:\n          byScale(e.clientX - stage.x - stage.width / 2) +\n          byScale(stageState.translate.x),\n        y:\n          byScale(e.clientY - stage.y - stage.height / 2) +\n          byScale(stageState.translate.y)\n      };\n      lineInToPort.current.setAttribute(\n        \"d\",\n        calculateCurve(dragStartCoordinatesCache.current, to)\n      );\n    } else {\n      const to = {\n        x:\n          byScale(e.clientX - stage.x - stage.width / 2) +\n          byScale(stageState.translate.x),\n        y:\n          byScale(e.clientY - stage.y - stage.height / 2) +\n          byScale(stageState.translate.y)\n      };\n      line.current.setAttribute(\n        \"d\",\n        calculateCurve(dragStartCoordinatesCache.current, to)\n      );\n    }\n  };\n\n  const handleDragEnd = e => {\n    const droppedOnPort = !!e.target.dataset.portName;\n\n    if (isInput) {\n      const {\n        inputNodeId,\n        inputPortName,\n        outputNodeId,\n        outputPortName\n      } = lineInToPort.current.dataset;\n      nodesDispatch({\n        type: \"REMOVE_CONNECTION\",\n        input: { nodeId: inputNodeId, portName: inputPortName },\n        output: { nodeId: outputNodeId, portName: outputPortName }\n      });\n      if (droppedOnPort) {\n        const {\n          portName: connectToPortName,\n          nodeId: connectToNodeId,\n          portType: connectToPortType,\n          portTransputType: connectToTransputType\n        } = e.target.dataset;\n        const isNotSameNode = outputNodeId !== connectToNodeId;\n        if (isNotSameNode && connectToTransputType !== \"output\") {\n          const inputWillAcceptConnection = inputTypes[\n            connectToPortType\n          ].acceptTypes.includes(type);\n          if (inputWillAcceptConnection) {\n            nodesDispatch({\n              type: \"ADD_CONNECTION\",\n              input: { nodeId: connectToNodeId, portName: connectToPortName },\n              output: { nodeId: outputNodeId, portName: outputPortName }\n            });\n          }\n        }\n      }\n    } else {\n      if (droppedOnPort) {\n        const {\n          portName: inputPortName,\n          nodeId: inputNodeId,\n          portType: inputNodeType,\n          portTransputType: inputTransputType\n        } = e.target.dataset;\n        const isNotSameNode = inputNodeId !== nodeId;\n        if (isNotSameNode && inputTransputType !== \"output\") {\n          const inputWillAcceptConnection = inputTypes[\n            inputNodeType\n          ].acceptTypes.includes(type);\n          if (inputWillAcceptConnection) {\n            nodesDispatch({\n              type: \"ADD_CONNECTION\",\n              output: { nodeId, portName: name },\n              input: { nodeId: inputNodeId, portName: inputPortName }\n            });\n            triggerRecalculation();\n          }\n        }\n      }\n    }\n    setIsDragging(false);\n    document.removeEventListener(\"mouseup\", handleDragEnd);\n    document.removeEventListener(\"mousemove\", handleDrag);\n  };\n\n  const handleDragStart = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const startPort = port.current.getBoundingClientRect();\n    const stage = document\n      .getElementById(stageId)\n      .getBoundingClientRect();\n\n    if (isInput) {\n      lineInToPort.current = document.querySelector(\n        `[data-input-node-id=\"${nodeId}\"][data-input-port-name=\"${name}\"]`\n      );\n      const portIsConnected = !!lineInToPort.current;\n      if (portIsConnected) {\n        lineInToPort.current.parentNode.style.zIndex = 9999;\n        const outputPort = getPortRect(\n          lineInToPort.current.dataset.outputNodeId,\n          lineInToPort.current.dataset.outputPortName,\n          \"output\"\n        );\n        const coordinates = {\n          x:\n            byScale(\n              outputPort.x - stage.x + outputPort.width / 2 - stage.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              outputPort.y - stage.y + outputPort.width / 2 - stage.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        setDragStartCoordinates(coordinates);\n        dragStartCoordinatesCache.current = coordinates;\n        setIsDragging(true);\n        document.addEventListener(\"mouseup\", handleDragEnd);\n        document.addEventListener(\"mousemove\", handleDrag);\n      }\n    } else {\n      const outputPort = inputTypes[port.current.dataset.portType];\n\n      const nodes = document.querySelectorAll(\n        `[data-output-node-id=\"${nodeId}\"][data-output-port-name=\"${name}\"]`\n      );\n\n      const canConnect = nodes.length < outputPort.maxOutputs;\n\n      if (canConnect) {\n        const coordinates = {\n          x:\n            byScale(\n              startPort.x - stage.x + startPort.width / 2 - stage.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              startPort.y - stage.y + startPort.width / 2 - stage.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        setDragStartCoordinates(coordinates);\n        dragStartCoordinatesCache.current = coordinates;\n        setIsDragging(true);\n        document.addEventListener(\"mouseup\", handleDragEnd);\n        document.addEventListener(\"mousemove\", handleDrag);\n      }\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div\n        style={{ zIndex: 999 }}\n        onMouseDown={handleDragStart}\n        className={styles.port}\n        data-port-color={color}\n        data-port-name={name}\n        data-port-type={type}\n        data-port-transput-type={isInput ? \"input\" : \"output\"}\n        data-node-id={nodeId}\n        onDragStart={e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n        ref={port}\n      />\n      {isDragging && !isInput ? (\n        <Portal\n          node={document.getElementById(`${DRAG_CONNECTION_ID}${editorId}`)}\n        >\n          <Connection\n            from={dragStartCoordinates}\n            to={dragStartCoordinates}\n            lineRef={line}\n            stroke={color}\n          />\n        </Portal>\n      ) : null}\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport styles from \"./Node.css\";\nimport {\n  NodeTypesContext,\n  NodeDispatchContext,\n  StageContext,\n  CacheContext\n} from \"../../context\";\nimport { getPortRect, calculateCurve } from \"../../connectionCalculator\";\nimport { Portal } from \"react-portal\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport IoPorts from \"../IoPorts/IoPorts\";\nimport Draggable from \"../Draggable/Draggable\";\n\nconst Node = ({\n  id,\n  width,\n  x,\n  y,\n  stageRect,\n  connections,\n  type,\n  inputData,\n  onDragStart,\n  renderNodeHeader\n}) => {\n  const cache = React.useContext(CacheContext);\n  const nodeTypes = React.useContext(NodeTypesContext);\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const stageState = React.useContext(StageContext);\n  const currentNodeType = nodeTypes[type];\n  const { label, deletable, inputs = [], outputs = [] } = currentNodeType;\n\n  const nodeWrapper = React.useRef();\n  const [menuOpen, setMenuOpen] = React.useState(false);\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\n\n  const byScale = value => (1 / stageState.scale) * value;\n\n  const updateConnectionsByTransput = (transput = {}, isOutput) => {\n    Object.entries(transput).forEach(([portName, outputs]) => {\n      outputs.forEach(output => {\n        const toRect = getPortRect(\n          id,\n          portName,\n          isOutput ? \"output\" : \"input\",\n          cache\n        );\n        const fromRect = getPortRect(\n          output.nodeId,\n          output.portName,\n          isOutput ? \"input\" : \"output\",\n          cache\n        );\n        const portHalf = fromRect.width / 2;\n        let combined;\n        if (isOutput) {\n          combined = id + portName + output.nodeId + output.portName;\n        } else {\n          combined = output.nodeId + output.portName + id + portName;\n        }\n        let cnx;\n        const cachedConnection = cache.current.connections[combined];\n        if (cachedConnection) {\n          cnx = cachedConnection;\n        } else {\n          cnx = document.querySelector(`[data-connection-id=\"${combined}\"]`);\n          cache.current.connections[combined] = cnx;\n        }\n        const from = {\n          x:\n            byScale(\n              toRect.x -\n                stageRect.current.x +\n                portHalf -\n                stageRect.current.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              toRect.y -\n                stageRect.current.y +\n                portHalf -\n                stageRect.current.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        const to = {\n          x:\n            byScale(\n              fromRect.x -\n                stageRect.current.x +\n                portHalf -\n                stageRect.current.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              fromRect.y -\n                stageRect.current.y +\n                portHalf -\n                stageRect.current.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        cnx.setAttribute(\"d\", calculateCurve(from, to));\n      });\n    });\n  };\n\n  const updateNodeConnections = () => {\n    if (connections) {\n      updateConnectionsByTransput(connections.inputs);\n      updateConnectionsByTransput(connections.outputs, true);\n    }\n  };\n\n  const stopDrag = (e, coordinates) => {\n    nodesDispatch({\n      type: \"SET_NODE_COORDINATES\",\n      ...coordinates,\n      nodeId: id\n    });\n  };\n\n  const handleDrag = ({ x, y }) => {\n    nodeWrapper.current.style.transform = `translate(${x}px,${y}px)`;\n    updateNodeConnections();\n  };\n\n  const startDrag = e => {\n    onDragStart();\n  };\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\n    setMenuOpen(true);\n    return false;\n  };\n\n  const closeContextMenu = () => {\n    setMenuOpen(false);\n  };\n\n  const deleteNode = () => {\n    nodesDispatch({\n      type: \"REMOVE_NODE\",\n      nodeId: id\n    });\n  };\n\n  const handleMenuOption = ({ value }) => {\n    switch (value) {\n      case \"deleteNode\":\n        deleteNode();\n        break;\n      default:\n        return;\n    }\n  };\n\n  return (\n    <Draggable\n      className={styles.wrapper}\n      style={{\n        width,\n        transform: `translate(${x}px, ${y}px)`\n      }}\n      onDragStart={startDrag}\n      onDrag={handleDrag}\n      onDragEnd={stopDrag}\n      innerRef={nodeWrapper}\n      data-node-id={id}\n      onContextMenu={handleContextMenu}\n      stageState={stageState}\n      stageRect={stageRect}\n    >\n      {renderNodeHeader ? (\n        renderNodeHeader(NodeHeader, currentNodeType, {\n          openMenu: handleContextMenu,\n          closeMenu: closeContextMenu,\n          deleteNode\n        })\n      ) : (\n        <NodeHeader>{label}</NodeHeader>\n      )}\n      <IoPorts\n        nodeId={id}\n        inputs={inputs}\n        outputs={outputs}\n        connections={connections}\n        updateNodeConnections={updateNodeConnections}\n        inputData={inputData}\n      />\n      {menuOpen ? (\n        <Portal>\n          <ContextMenu\n            x={menuCoordinates.x}\n            y={menuCoordinates.y}\n            options={[\n              ...(deletable !== false\n                ? [\n                    {\n                      label: \"Delete Node\",\n                      value: \"deleteNode\",\n                      description: \"Deletes a node and all of its connections.\"\n                    }\n                  ]\n                : [])\n            ]}\n            onRequestClose={closeContextMenu}\n            onOptionSelected={handleMenuOption}\n            hideFilter\n            label=\"Node Options\"\n            emptyText=\"This node has no options.\"\n          />\n        </Portal>\n      ) : null}\n    </Draggable>\n  );\n};\n\nconst NodeHeader = ({ children, className = \"\", ...props }) => (\n  <h2 {...props} className={styles.label + (className ? ` ${className}` : \"\")}>\n    {children}\n  </h2>\n);\n\nexport default Node;\n","const define = (value, defaultValue) =>\n  value !== undefined ? value : defaultValue;\n\nconst buildControlType = (\n  defaultConfig,\n  validate = () => {},\n  setup = () => ({})\n) => config => {\n  validate(config);\n  return {\n    type: defaultConfig.type,\n    label: define(config.label, defaultConfig.label || \"\"),\n    name: define(config.name, defaultConfig.name || \"\"),\n    defaultValue: define(config.defaultValue, defaultConfig.defaultValue),\n    setValue: define(config.setValue, undefined),\n    ...setup(config)\n  };\n};\n\nexport const Controls = {\n  text: buildControlType({\n    type: \"text\",\n    name: \"text\",\n    defaultValue: \"\"\n  }),\n  select: buildControlType(\n    {\n      type: \"select\",\n      name: \"select\",\n      options: [],\n      defaultValue: \"\"\n    },\n    () => {},\n    config => ({\n      options: define(config.options, []),\n      getOptions: define(config.getOptions, undefined),\n      placeholder: define(config.placeholder, undefined)\n    })\n  ),\n  number: buildControlType(\n    {\n      type: \"number\",\n      name: \"number\",\n      defaultValue: 0\n    },\n    () => {},\n    config => ({\n      step: define(config.step, undefined)\n    })\n  ),\n  checkbox: buildControlType({\n    type: \"checkbox\",\n    name: \"checkbox\",\n    defaultValue: false\n  }),\n  multiselect: buildControlType(\n    {\n      type: \"multiselect\",\n      name: \"multiselect\",\n      options: [],\n      defaultValue: []\n    },\n    () => {},\n    config => ({\n      options: define(config.options, []),\n      getOptions: define(config.getOptions, undefined),\n      placeholder: define(config.placeholder, undefined)\n    })\n  ),\n  custom: buildControlType(\n    {\n      type: \"custom\",\n      name: \"custom\",\n      render: () => {},\n      defaultValue: undefined\n    },\n    () => {},\n    config => ({\n      render: define(config.render, () => {})\n    })\n  )\n};\n\nexport const Colors = {\n  yellow: \"yellow\",\n  orange: \"orange\",\n  red: \"red\",\n  pink: \"pink\",\n  purple: \"purple\",\n  blue: \"blue\",\n  green: \"green\",\n  grey: \"grey\"\n};\n\nexport const getPortBuilders = ports =>\n  Object.values(ports).reduce((obj, port) => {\n    obj[port.type] = (config = {}) => {\n      return {\n        type: port.type,\n        name: config.name || port.name,\n        label: config.label || port.label,\n        noControls: define(config.noControls, false),\n        color: config.color || port.color,\n        hidePort: define(config.hidePort, port.hidePort),\n        controls: define(config.controls, port.controls)\n      };\n    };\n    return obj;\n  }, {});\n\nexport class FlumeConfig {\n  constructor(config) {\n    if (config) {\n      this.nodeTypes = { ...config.nodeTypes };\n      this.portTypes = { ...config.portTypes };\n    } else {\n      this.nodeTypes = {};\n      this.portTypes = {};\n    }\n  }\n  addRootNodeType(config) {\n    this.addNodeType({\n      ...config,\n      root: true,\n      addable: false,\n      deletable: false\n    })\n    return this;\n  }\n  addNodeType(config) {\n    if (typeof config !== \"object\" && config !== null) {\n      throw new Error(\n        \"You must provide a configuration object when calling addNodeType.\"\n      );\n    }\n    if (typeof config.type !== \"string\") {\n      throw new Error(\n        `Required key, \"type\" must be a string when calling addNodeType.`\n      );\n    }\n    if (\n      typeof config.initialWidth !== \"undefined\" &&\n      typeof config.initialWidth !== \"number\"\n    ) {\n      throw new Error(\n        `Optional key, \"initialWidth\" must be a number when calling addNodeType.`\n      );\n    }\n    if (this.nodeTypes[config.type] !== undefined) {\n      throw new Error(\n        `A node with type \"${config.type}\" has already been declared.`\n      );\n    }\n    const node = {\n      type: config.type,\n      label: define(config.label, \"\"),\n      description: define(config.description, \"\"),\n      addable: define(config.addable, true),\n      deletable: define(config.deletable, true)\n    };\n    if (config.initialWidth) {\n      node.initialWidth = config.initialWidth;\n    }\n    if (config.sortIndex !== undefined) {\n      node.sortIndex = config.sortIndex;\n    }\n    if (typeof config.inputs === \"function\") {\n      const inputs = config.inputs(getPortBuilders(this.portTypes));\n      if (!Array.isArray(inputs) && typeof config.inputs !== 'function') {\n        throw new Error(\n          `When providing a function to the \"inputs\" key, you must return either an array or a function.`\n        );\n      }\n      node.inputs = inputs;\n    } else if (config.inputs === undefined) {\n      node.inputs = [];\n    } else if (!Array.isArray(config.inputs)) {\n      throw new Error(`Optional key, \"inputs\" must be an array.`);\n    } else {\n      node.inputs = config.inputs;\n    }\n\n    if (typeof config.outputs === \"function\") {\n      const outputs = config.outputs(getPortBuilders(this.portTypes));\n      if (!Array.isArray(outputs) && typeof config.outputs !== 'function') {\n        throw new Error(\n          `When providing a function to the \"outputs\" key, you must return either an array or a function.`\n        );\n      }\n      node.outputs = outputs;\n    } else if (config.outputs === undefined) {\n      node.outputs = [];\n    } else if (config.outputs !== undefined && !Array.isArray(config.outputs)) {\n      throw new Error(`Optional key, \"outputs\" must be an array.`);\n    } else {\n      node.outputs = config.outputs;\n    }\n\n    if (config.root !== undefined) {\n      if (typeof config.root !== \"boolean\") {\n        throw new Error(`Optional key, \"root\" must be a boolean.`);\n      } else {\n        node.root = config.root;\n      }\n    }\n\n    this.nodeTypes[config.type] = node;\n    return this;\n  }\n  removeNodeType(type) {\n    if (!this.nodeTypes[type]) {\n      console.error(`Non-existent node type \"${type}\" cannot be removed.`);\n    } else {\n      const { [type]: deleted, ...nodeTypes } = this.nodeTypes;\n      this.nodeTypes = nodeTypes;\n    }\n    return this;\n  }\n  addPortType(config) {\n    if (typeof config !== \"object\" && config !== null) {\n      throw new Error(\n        \"You must provide a configuration object when calling addPortType\"\n      );\n    }\n    if (typeof config.type !== \"string\") {\n      throw new Error(\n        `Required key, \"type\" must be a string when calling addPortType.`\n      );\n    }\n    if (this.portTypes[config.type] !== undefined) {\n      throw new Error(\n        `A port with type \"${config.type}\" has already been declared.`\n      );\n    }\n    if (typeof config.name !== \"string\") {\n      throw new Error(\n        `Required key, \"name\" must be a string when calling addPortType.`\n      );\n    }\n\n    const port = {\n      type: config.type,\n      name: config.name,\n      label: define(config.label, \"\"),\n      color: define(config.color, Colors.grey),\n      hidePort: define(config.hidePort, false)\n    };\n\n    if (config.acceptTypes === undefined) {\n      port.acceptTypes = [config.type];\n    } else if (!Array.isArray(config.acceptTypes)) {\n      throw new Error(`Optional key, \"acceptTypes\" must be an array.`);\n    } else {\n      port.acceptTypes = config.acceptTypes;\n    }\n\n\n    if (\n      typeof config.maxOutputs !== \"undefined\" &&\n      typeof config.maxOutputs !== \"number\"\n    ) {\n      throw new Error(\n        `Optional key, \"maxOutputs\" must be a number when calling addPortType.`\n      );\n    } else if (config.maxOutputs === undefined) {\n      port.maxOutputs = Infinity;\n    } else {\n      port.maxOutputs = config.maxOutputs;\n    }\n\n    if (config.controls === undefined) {\n      port.controls = [];\n    } else if (!Array.isArray(config.controls)) {\n      throw new Error(`Optional key, \"controls\" must be an array.`);\n    } else {\n      port.controls = config.controls;\n    }\n\n    this.portTypes[config.type] = port;\n    return this;\n  }\n  removePortType(type, { skipDynamicNodesCheck = false } = {}) {\n    if (!this.portTypes[type]) {\n      console.error(`Non-existent port type \"${type}\" cannot be removed.`);\n    } else {\n      if (!skipDynamicNodesCheck) {\n        const dynamicNodes = Object.values(this.nodeTypes).filter(\n          node =>\n            typeof node.inputs === 'function' ||\n            typeof node.outputs === 'function'\n        );\n        if (dynamicNodes.length) {\n          console.warn(\n            `We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.`\n          );\n        }  \n      }\n      const affectedNodes = Object.values(this.nodeTypes).filter(\n        node =>\n          (Array.isArray(node.inputs) &&\n            node.inputs.find(p => p.type === type)) ||\n          (Array.isArray(node.outputs) &&\n            node.outputs.find(p => p.type === type))\n      );\n      if (affectedNodes.length) {\n        throw new Error(\n          `Cannot delete port type \"${type}\" without first deleting all node types using these ports: [${affectedNodes\n            .map(n => `${n.type}`)\n            .join(\", \")}]`\n        );\n      } else {\n        const { [type]: deleted, ...portTypes } = this.portTypes;\n        this.portTypes = portTypes;\n      }\n    }\n    return this;\n  }\n}\n","import React from \"react\";\nimport styles from \"./ColorPicker.css\";\nimport { Colors } from \"../../typeBuilders\";\n\nexport default ({ x, y, onColorPicked, onRequestClose }) => {\n  const wrapper = React.useRef();\n\n  const testClickOutside = React.useCallback(\n    e => {\n      if (wrapper.current && !wrapper.current.contains(e.target)) {\n        onRequestClose();\n        document.removeEventListener(\"click\", testClickOutside);\n        document.removeEventListener(\"contextmenu\", testClickOutside);\n      }\n    },\n    [wrapper, onRequestClose]\n  );\n\n  const testEscape = React.useCallback(\n    e => {\n      if (e.keyCode === 27) {\n        onRequestClose();\n        document.removeEventListener(\"keydown\", testEscape);\n      }\n    },\n    [onRequestClose]\n  );\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", testEscape);\n    document.addEventListener(\"click\", testClickOutside);\n    document.addEventListener(\"contextmenu\", testClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", testClickOutside);\n      document.removeEventListener(\"contextmenu\", testClickOutside);\n      document.removeEventListener(\"keydown\", testEscape);\n    };\n  }, [testClickOutside, testEscape]);\n\n  return (\n    <div\n      ref={wrapper}\n      className={styles.wrapper}\n      style={{\n        left: x,\n        top: y\n      }}\n    >\n      {Object.values(Colors).map(color => (\n        <ColorButton\n          onSelected={() => {\n            onColorPicked(color);\n            onRequestClose();\n          }}\n          color={color}\n          key={color}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst ColorButton = ({ color, onSelected }) => (\n  <div className={styles.colorButtonWrapper}>\n    <button\n      className={styles.colorButton}\n      onClick={onSelected}\n      data-color={color}\n      aria-label={color}\n    />\n  </div>\n);\n","import React from \"react\";\nimport styles from \"./Comment.css\";\nimport Draggable from \"../Draggable/Draggable\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport ColorPicker from \"../ColorPicker/ColorPicker\";\nimport { StageContext } from \"../../context\";\nimport { Portal } from \"react-portal\";\nimport clamp from \"lodash/clamp\";\n\nexport default ({\n  dispatch,\n  id,\n  x,\n  y,\n  width,\n  height,\n  color,\n  text,\n  stageRect,\n  onDragStart,\n  isNew\n}) => {\n  const stageState = React.useContext(StageContext);\n  const wrapper = React.useRef();\n  const textarea = React.useRef();\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [isPickingColor, setIsPickingColor] = React.useState(false);\n  const [menuOpen, setMenuOpen] = React.useState(false);\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\n  const [colorPickerCoordinates, setColorPickerCoordinates] = React.useState({\n    x: 0,\n    y: 0\n  });\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\n    setMenuOpen(true);\n    return false;\n  };\n\n  const closeContextMenu = () => setMenuOpen(false);\n\n  const startDrag = e => {\n    onDragStart();\n  };\n\n  const handleDrag = ({ x, y }) => {\n    wrapper.current.style.transform = `translate(${x}px,${y}px)`;\n  };\n\n  const handleDragEnd = (_, { x, y }) => {\n    dispatch({\n      type: \"SET_COMMENT_COORDINATES\",\n      id,\n      x,\n      y\n    });\n  };\n\n  const handleResize = coordinates => {\n    const width = clamp(coordinates.x - x + 10, 80, 10000);\n    const height = clamp(coordinates.y - y + 10, 30, 10000);\n    wrapper.current.style.width = `${width}px`;\n    wrapper.current.style.height = `${height}px`;\n  };\n\n  const handleResizeEnd = (_, coordinates) => {\n    const width = clamp(coordinates.x - x + 10, 80, 10000);\n    const height = clamp(coordinates.y - y + 10, 30, 10000);\n    dispatch({\n      type: \"SET_COMMENT_DIMENSIONS\",\n      id,\n      width,\n      height\n    });\n  };\n\n  const handleMenuOption = (option, e) => {\n    switch (option.value) {\n      case \"edit\":\n        startTextEdit();\n        break;\n      case \"color\":\n        setColorPickerCoordinates(menuCoordinates);\n        setIsPickingColor(true);\n        break;\n      case \"delete\":\n        dispatch({\n          type: \"DELETE_COMMENT\",\n          id\n        });\n        break;\n      default:\n    }\n  };\n\n  const startTextEdit = () => {\n    setIsEditing(true);\n  };\n\n  const endTextEdit = () => {\n    setIsEditing(false);\n  };\n\n  const handleTextChange = e => {\n    dispatch({\n      type: \"SET_COMMENT_TEXT\",\n      id,\n      text: e.target.value\n    });\n  };\n\n  const handleColorPicked = color => {\n    dispatch({\n      type: \"SET_COMMENT_COLOR\",\n      id,\n      color\n    });\n  };\n\n  React.useEffect(() => {\n    if (isNew) {\n      setIsEditing(true);\n      dispatch({\n        type: \"REMOVE_COMMENT_NEW\",\n        id\n      });\n    }\n  }, [isNew, dispatch, id]);\n\n  return (\n    <Draggable\n      innerRef={wrapper}\n      className={styles.wrapper}\n      style={{\n        transform: `translate(${x}px,${y}px)`,\n        width,\n        height,\n        zIndex: isEditing ? 999 : \"\"\n      }}\n      stageState={stageState}\n      stageRect={stageRect}\n      onDragStart={startDrag}\n      onDrag={handleDrag}\n      onDragEnd={handleDragEnd}\n      onContextMenu={handleContextMenu}\n      onDoubleClick={startTextEdit}\n      onWheel={e => e.stopPropagation()}\n      data-color={color}\n    >\n      {isEditing ? (\n        <textarea\n          className={styles.textarea}\n          onChange={handleTextChange}\n          onMouseDown={e => e.stopPropagation()}\n          onBlur={endTextEdit}\n          placeholder=\"Text of the comment...\"\n          autoFocus\n          value={text}\n          ref={textarea}\n        />\n      ) : (\n        <div data-comment={true} className={styles.text}>\n          {text}\n        </div>\n      )}\n      <Draggable\n        className={styles.resizeThumb}\n        stageState={stageState}\n        stageRect={stageRect}\n        onDrag={handleResize}\n        onDragEnd={handleResizeEnd}\n      />\n      {menuOpen ? (\n        <Portal>\n          <ContextMenu\n            hideFilter\n            label=\"Comment Options\"\n            x={menuCoordinates.x}\n            y={menuCoordinates.y}\n            options={[\n              {\n                value: \"edit\",\n                label: \"Edit Comment\",\n                description: \"Edit the text of the comment\"\n              },\n              {\n                value: \"color\",\n                label: \"Change Color\",\n                description: \"Change the color of the comment\"\n              },\n              {\n                value: \"delete\",\n                label: \"Delete Comment\",\n                description: \"Delete the comment\"\n              }\n            ]}\n            onRequestClose={closeContextMenu}\n            onOptionSelected={handleMenuOption}\n          />\n        </Portal>\n      ) : null}\n      {isPickingColor ? (\n        <Portal>\n          <ColorPicker\n            x={colorPickerCoordinates.x}\n            y={colorPickerCoordinates.y}\n            onRequestClose={() => setIsPickingColor(false)}\n            onColorPicked={handleColorPicked}\n          />\n        </Portal>\n      ) : null}\n    </Draggable>\n  );\n};\n","import React from \"react\";\nimport styles from \"./Toaster.css\";\n\nexport default ({ toasts = [], dispatchToasts }) => {\n  const setHeight = React.useCallback(\n    (id, height) => {\n      dispatchToasts({\n        type: \"SET_HEIGHT\",\n        id,\n        height\n      });\n    },\n    [dispatchToasts]\n  );\n\n  const startExit = React.useCallback(\n    id => {\n      dispatchToasts({\n        type: \"SET_EXITING\",\n        id\n      });\n    },\n    [dispatchToasts]\n  );\n\n  const removeToast = React.useCallback(\n    id => {\n      dispatchToasts({\n        type: \"REMOVE_TOAST\",\n        id\n      });\n    },\n    [dispatchToasts]\n  );\n\n  return (\n    <div className={styles.toaster}>\n      {toasts.map((toast, i) => {\n        return (\n          <Toast\n            {...toast}\n            onHeightReceived={setHeight}\n            onExitRequested={startExit}\n            onRemoveRequested={removeToast}\n            y={toasts.slice(0, i + 1).reduce((y, t) => t.height + y + 5, 0)}\n            key={toast.id}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst Toast = ({\n  id,\n  title,\n  message,\n  duration,\n  type,\n  exiting,\n  y,\n  onHeightReceived,\n  onExitRequested,\n  onRemoveRequested\n}) => {\n  const [paused, setPaused] = React.useState(false);\n  const wrapper = React.useRef();\n  const timer = React.useRef();\n\n  const stopTimer = React.useCallback(() => {\n    setPaused(true);\n    clearTimeout(timer.current);\n  }, []);\n\n  const resumeTimer = React.useCallback(() => {\n    setPaused(false);\n    timer.current = setTimeout(() => onExitRequested(id), duration);\n  }, [id, duration, onExitRequested]);\n\n  React.useLayoutEffect(() => {\n    const { height } = wrapper.current.getBoundingClientRect();\n    onHeightReceived(id, height);\n  }, [onHeightReceived, id]);\n\n  React.useEffect(() => {\n    resumeTimer();\n    return stopTimer;\n  }, [resumeTimer, stopTimer]);\n\n  const handleAnimationEnd = () => {\n    if (exiting) {\n      onRemoveRequested(id);\n    }\n  };\n\n  return (\n    <div\n      ref={wrapper}\n      className={styles.toast}\n      data-type={type}\n      style={{ transform: `translateY(-${y}px)` }}\n      data-exiting={exiting}\n      onAnimationEnd={handleAnimationEnd}\n      onMouseEnter={stopTimer}\n      onMouseLeave={resumeTimer}\n      role=\"alert\"\n    >\n      {\n        title ? <span className={styles.title}>{title}</span> : null\n      }\n      <p>{message}</p>\n      {!paused && (\n        <div\n          className={styles.timer}\n          style={{ animationDuration: `${duration}ms` }}\n          onAnimationEnd={e => e.stopPropagation()}\n        />\n      )}\n      <button className={styles.exitButton} onClick={() => {\n        stopTimer()\n        onExitRequested(id)\n      }}>✕</button>\n    </div>\n  );\n};\n","import React from 'react'\nimport { CONNECTIONS_ID } from '../../constants'\nimport styles from './Connections.css'\n\nconst Connections = ({ nodes, editorId }) => {\n\n  return (\n    <div className={styles.svgWrapper} id={`${CONNECTIONS_ID}${editorId}`}/>\n  )\n}\n\nexport default Connections\n","export const checkForCircularNodes = (nodes, startNodeId) => {\n  let isCircular = false;\n  const walk = nodeId => {\n    const outputs = Object.values(nodes[nodeId].connections.outputs);\n    for (var i = 0; i < outputs.length; i++) {\n      if(isCircular){\n        break;\n      }\n      const outputConnections = outputs[i];\n      for (var k = 0; k < outputConnections.length; k++) {\n        const connectedTo = outputConnections[k]\n        if(connectedTo.nodeId === startNodeId){\n          isCircular = true;\n          break;\n        }else{\n          walk(connectedTo.nodeId)\n        }\n      }\n    }\n  }\n  walk(startNodeId)\n  return isCircular;\n}\n","import {\n  deleteConnection,\n  deleteConnectionsByNodeId\n} from \"./connectionCalculator\";\nimport { checkForCircularNodes } from \"./utilities\";\nimport nanoid from \"nanoid/non-secure/index\";\n\nconst addConnection = (nodes, input, output, portTypes) => {\n  const newNodes = {\n    ...nodes,\n    [input.nodeId]: {\n      ...nodes[input.nodeId],\n      connections: {\n        ...nodes[input.nodeId].connections,\n        inputs: {\n          ...nodes[input.nodeId].connections.inputs,\n          [input.portName]: [\n            ...(nodes[input.nodeId].connections.inputs[input.portName] || []),\n            {\n              nodeId: output.nodeId,\n              portName: output.portName\n            }\n          ]\n        }\n      }\n    },\n    [output.nodeId]: {\n      ...nodes[output.nodeId],\n      connections: {\n        ...nodes[output.nodeId].connections,\n        outputs: {\n          ...nodes[output.nodeId].connections.outputs,\n          [output.portName]: [\n            ...(nodes[output.nodeId].connections.outputs[output.portName] ||\n              []),\n            {\n              nodeId: input.nodeId,\n              portName: input.portName\n            }\n          ]\n        }\n      }\n    }\n  };\n  return newNodes;\n};\n\nconst removeConnection = (nodes, input, output) => {\n  const inputNode = nodes[input.nodeId];\n  const {\n    [input.portName]: removedInputPort,\n    ...newInputNodeConnectionsInputs\n  } = inputNode.connections.inputs;\n  const newInputNode = {\n    ...inputNode,\n    connections: {\n      ...inputNode.connections,\n      inputs: newInputNodeConnectionsInputs\n    }\n  };\n\n  const outputNode = nodes[output.nodeId];\n  const filteredOutputNodes = outputNode.connections.outputs[\n    output.portName\n  ].filter(cnx => {\n    return cnx.nodeId === input.nodeId ? cnx.portName !== input.portName : true;\n  });\n  const newOutputNode = {\n    ...outputNode,\n    connections: {\n      ...outputNode.connections,\n      outputs: {\n        ...outputNode.connections.outputs,\n        [output.portName]: filteredOutputNodes\n      }\n    }\n  };\n\n  return {\n    ...nodes,\n    [input.nodeId]: newInputNode,\n    [output.nodeId]: newOutputNode\n  };\n};\n\nconst getFilteredTransputs = (transputs, nodeId) =>\n  Object.entries(transputs).reduce((obj, [portName, transput]) => {\n    const newTransputs = transput.filter(t => t.nodeId !== nodeId);\n    if (newTransputs.length) {\n      obj[portName] = newTransputs;\n    }\n    return obj;\n  }, {});\n\nconst removeConnections = (connections, nodeId) => ({\n  inputs: getFilteredTransputs(connections.inputs, nodeId),\n  outputs: getFilteredTransputs(connections.outputs, nodeId)\n});\n\nconst removeNode = (startNodes, nodeId) => {\n  let { [nodeId]: deletedNode, ...nodes } = startNodes;\n  nodes = Object.values(nodes).reduce((obj, node) => {\n    obj[node.id] = {\n      ...node,\n      connections: removeConnections(node.connections, nodeId)\n    };\n\n    return obj;\n  }, {});\n  deleteConnectionsByNodeId(nodeId);\n  return nodes;\n};\n\nconst reconcileNodes = (initialNodes, nodeTypes, portTypes, context) => {\n  let nodes = { ...initialNodes };\n\n  // Delete extraneous nodes\n  let nodesToDelete = Object.values(nodes)\n    .map(node => (!nodeTypes[node.type] ? node.id : undefined))\n    .filter(x => x);\n\n  nodesToDelete.forEach(nodeId => {\n    nodes = nodesReducer(\n      nodes,\n      {\n        type: \"REMOVE_NODE\",\n        nodeId\n      },\n      { nodeTypes, portTypes, context }\n    );\n  });\n\n  // Reconcile input data for each node\n  let reconciledNodes = Object.values(nodes).reduce((nodesObj, node) => {\n    const nodeType = nodeTypes[node.type];\n    const defaultInputData = getDefaultData({ node, nodeType, portTypes, context });\n    const currentInputData = Object.entries(node.inputData).reduce(\n      (dataObj, [key, data]) => {\n        if (defaultInputData[key] !== undefined) {\n          dataObj[key] = data;\n        }\n        return dataObj;\n      },\n      {}\n    );\n    const newInputData = {\n      ...defaultInputData,\n      ...currentInputData\n    };\n    nodesObj[node.id] = {\n      ...node,\n      inputData: newInputData\n    };\n    return nodesObj;\n  }, {});\n\n  // Reconcile node attributes for each node\n  reconciledNodes = Object.values(reconciledNodes).reduce((nodesObj, node) => {\n    let newNode = { ...node };\n    const nodeType = nodeTypes[node.type];\n    if (nodeType.root !== node.root) {\n      if (nodeType.root && !node.root) {\n        newNode.root = nodeType.root;\n      } else if (!nodeType.root && node.root) {\n        delete newNode.root;\n      }\n    }\n    nodesObj[node.id] = newNode;\n    return nodesObj;\n  }, {});\n\n  return reconciledNodes;\n};\n\nexport const getInitialNodes = (\n  initialNodes = {},\n  defaultNodes = [],\n  nodeTypes,\n  portTypes,\n  context\n) => {\n  const reconciledNodes = reconcileNodes(initialNodes, nodeTypes, portTypes, context);\n\n  return {\n    ...reconciledNodes,\n    ...defaultNodes.reduce((nodes, dNode, i) => {\n      const nodeNotAdded = !Object.values(initialNodes).find(\n        n => n.type === dNode.type\n      );\n      if (nodeNotAdded) {\n        nodes = nodesReducer(\n          nodes,\n          {\n            type: \"ADD_NODE\",\n            id: `default-${i}`,\n            defaultNode: true,\n            x: dNode.x || 0,\n            y: dNode.y || 0,\n            nodeType: dNode.type\n          },\n          { nodeTypes, portTypes, context }\n        );\n      }\n      return nodes;\n    }, {})\n  };\n};\n\nconst getDefaultData = ({ node, nodeType, portTypes, context }) => {\n  const inputs = Array.isArray(nodeType.inputs)\n    ? nodeType.inputs\n    : nodeType.inputs(node.inputData, node.connections, context);\n  return inputs.reduce((obj, input) => {\n    const inputType = portTypes[input.type];\n    obj[input.name || inputType.name] = (\n      input.controls ||\n      inputType.controls ||\n      []\n    ).reduce((obj2, control) => {\n      obj2[control.name] = control.defaultValue;\n      return obj2;\n    }, {});\n    return obj;\n  }, {});\n};\n\nconst nodesReducer = (\n  nodes,\n  action = {},\n  { nodeTypes, portTypes, cache, circularBehavior, context },\n  dispatchToasts\n) => {\n  switch (action.type) {\n    case \"ADD_CONNECTION\": {\n      const { input, output } = action;\n      const inputIsNotConnected = !nodes[input.nodeId].connections.inputs[\n        input.portName\n      ];\n      if (inputIsNotConnected) {\n        const allowCircular = circularBehavior === \"warn\" || circularBehavior === \"allow\"\n        const newNodes = addConnection(nodes, input, output, portTypes);\n        const isCircular = checkForCircularNodes(newNodes, output.nodeId);\n        if (isCircular && !allowCircular) {\n          dispatchToasts({\n            type: \"ADD_TOAST\",\n            title: \"Unable to connect\",\n            message: \"Connecting these nodes would result in an infinite loop.\",\n            toastType: \"warning\",\n            duration: 5000\n          });\n          return nodes;\n        } else {\n          if(isCircular && circularBehavior === \"warn\"){\n            dispatchToasts({\n              type: \"ADD_TOAST\",\n              title: \"Circular Connection Detected\",\n              message: \"Connecting these nodes has created an infinite loop.\",\n              toastType: \"warning\",\n              duration: 5000\n            });\n          }\n          return newNodes;\n        }\n      } else return nodes;\n    }\n\n    case \"REMOVE_CONNECTION\": {\n      const { input, output } = action;\n      const id =\n        output.nodeId + output.portName + input.nodeId + input.portName;\n      delete cache.current.connections[id];\n      deleteConnection({ id });\n      return removeConnection(nodes, input, output);\n    }\n\n    case \"DESTROY_TRANSPUT\": {\n      const { transput, transputType } = action;\n      const portId = transput.nodeId + transput.portName + transputType;\n      delete cache.current.ports[portId];\n\n      const cnxType = transputType === 'input' ? 'inputs' : 'outputs';\n      const connections = nodes[transput.nodeId].connections[cnxType][transput.portName];\n      if (!connections || !connections.length) return nodes;\n\n      return connections.reduce((nodes, cnx) => {\n        const [input, output] = transputType === 'input' ? [transput, cnx] : [cnx, transput];\n        const id = output.nodeId + output.portName + input.nodeId + input.portName;\n        delete cache.current.connections[id];\n        deleteConnection({ id });\n        return removeConnection(nodes, input, output);\n      }, nodes);\n    }\n\n    case \"ADD_NODE\": {\n      const { x, y, nodeType, id, defaultNode } = action;\n      const newNodeId = id || nanoid(10);\n      const newNode = {\n        id: newNodeId,\n        x,\n        y,\n        type: nodeType,\n        width: nodeTypes[nodeType].initialWidth || 200,\n        connections: {\n          inputs: {},\n          outputs: {}\n        },\n        inputData: {}\n      };\n      newNode.inputData = getDefaultData({\n        node: newNode,\n        nodeType: nodeTypes[nodeType],\n        portTypes,\n        context\n      });\n      if (defaultNode) {\n        newNode.defaultNode = true;\n      }\n      if (nodeTypes[nodeType].root) {\n        newNode.root = true;\n      }\n      return {\n        ...nodes,\n        [newNodeId]: newNode\n      };\n    }\n\n    case \"REMOVE_NODE\": {\n      const { nodeId } = action;\n      return removeNode(nodes, nodeId);\n    }\n\n    case \"HYDRATE_DEFAULT_NODES\": {\n      const newNodes = { ...nodes };\n      for (const key in newNodes) {\n        if (newNodes[key].defaultNode) {\n          const newNodeId = nanoid(10);\n          const { id, defaultNode, ...node } = newNodes[key];\n          newNodes[newNodeId] = {...node, id: newNodeId };\n          delete newNodes[key];\n        }\n      }\n      return newNodes;\n    }\n\n    case \"SET_PORT_DATA\": {\n      const { nodeId, portName, controlName, data, setValue } = action;\n      let newData = {\n        ...nodes[nodeId].inputData,\n        [portName]: {\n          ...nodes[nodeId].inputData[portName],\n          [controlName]: data\n        }\n      };\n      if (setValue) {\n        newData = setValue(newData, nodes[nodeId].inputData);\n      }\n      return {\n        ...nodes,\n        [nodeId]: {\n          ...nodes[nodeId],\n          inputData: newData\n        }\n      };\n    }\n\n    case \"SET_NODE_COORDINATES\": {\n      const { x, y, nodeId } = action;\n      return {\n        ...nodes,\n        [nodeId]: {\n          ...nodes[nodeId],\n          x,\n          y\n        }\n      };\n    }\n\n    default:\n      return nodes;\n  }\n};\n\nexport const connectNodesReducer = (reducer, environment, dispatchToasts) => (\n  state,\n  action\n) => reducer(state, action, environment, dispatchToasts);\n\nexport default nodesReducer;\n","import nanoid from \"nanoid/non-secure/index\";\n\nconst setComment = (comments, id, merge) => ({\n  ...comments,\n  [id]: {\n    ...comments[id],\n    ...merge\n  }\n});\n\nexport default (comments = {}, action) => {\n  switch (action.type) {\n    case \"ADD_COMMENT\": {\n      const comment = {\n        id: nanoid(10),\n        text: \"\",\n        x: action.x,\n        y: action.y,\n        width: 200,\n        height: 30,\n        color: \"blue\",\n        isNew: true\n      };\n      return {\n        ...comments,\n        [comment.id]: comment\n      };\n    }\n    case \"REMOVE_COMMENT_NEW\":\n      const { isNew: toDelete, ...comment } = comments[action.id];\n      return {\n        ...comments,\n        [action.id]: comment\n      };\n    case \"SET_COMMENT_COORDINATES\": {\n      return setComment(comments, action.id, { x: action.x, y: action.y });\n    }\n    case \"SET_COMMENT_DIMENSIONS\": {\n      return setComment(comments, action.id, {\n        width: action.width,\n        height: action.height\n      });\n    }\n    case \"SET_COMMENT_TEXT\": {\n      return setComment(comments, action.id, { text: action.text });\n    }\n    case \"SET_COMMENT_COLOR\": {\n      return setComment(comments, action.id, { color: action.color });\n    }\n    case \"DELETE_COMMENT\": {\n      const { [action.id]: toDelete, ...newComments } = comments;\n      return newComments;\n    }\n    default:\n      return comments;\n  }\n};\n","import nanoid from \"nanoid/non-secure/index\";\n\nexport default (toasts = [], action) => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return [\n        {\n          id: nanoid(5),\n          title: action.title,\n          message: action.message,\n          type: action.toastType || 'info',\n          duration: action.duration || 10000,\n          height: 0,\n          exiting: false\n        },\n        ...toasts\n      ];\n    case \"SET_HEIGHT\": {\n      const index = toasts.findIndex(t => t.id === action.id);\n      return [\n        ...toasts.slice(0, index),\n        {\n          ...toasts[index],\n          height: action.height\n        },\n        ...toasts.slice(index + 1)\n      ];\n    }\n    case \"SET_EXITING\": {\n      const index = toasts.findIndex(t => t.id === action.id);\n      return [\n        ...toasts.slice(0, index),\n        {\n          ...toasts[index],\n          exiting: true\n        },\n        ...toasts.slice(index + 1)\n      ];\n    }\n    case \"REMOVE_TOAST\": {\n      const index = toasts.findIndex(t => t.id === action.id);\n      return [\n        ...toasts.slice(0, index),\n        ...toasts.slice(index + 1)\n      ];\n    }\n    default:\n      return toasts;\n  }\n};\n","export default (state, incomingAction) => {\n  let action = typeof incomingAction === 'function' ? incomingAction(state) : incomingAction;\n  switch (action.type) {\n    case 'SET_SCALE':\n      return {...state, scale: action.scale}\n    case 'SET_TRANSLATE':\n      return {...state, translate: action.translate}\n    default:\n      return state;\n  }\n}\n","class Cache{\n  constructor(){\n    this.ports = {};\n    this.connections = {};\n  }\n}\nexport default Cache\n","class LoopError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.code = code;\n  }\n  static maxLoopsExceeded = 1;\n}\n\nexport class RootEngine {\n  constructor(config, resolveInputControls, fireNodeFunction) {\n    this.config = config;\n    this.fireNodeFunction = fireNodeFunction;\n    this.resolveInputControls = resolveInputControls;\n    this.loops = 0;\n    this.maxLoops = 1000;\n  }\n  resetLoops = maxLoops => {\n    this.maxLoops = maxLoops !== undefined ? maxLoops : 1000;\n    this.loops = 0;\n  };\n  checkLoops = () => {\n    if (this.maxLoops >= 0 && this.loops > this.maxLoops) {\n      throw new LoopError(\n        \"Max loop count exceeded.\",\n        LoopError.maxLoopsExceeded\n      );\n    } else {\n      this.loops++;\n    }\n  };\n  getRootNode = nodes => {\n    const roots = Object.values(nodes).filter(n => n.root);\n    if (roots.length > 1) {\n      throw new Error(\n        \"The root engine must not be called with more than one root node.\"\n      );\n    }\n    return roots[0];\n  };\n  reduceRootInputs = (inputs, callback) =>\n    Object.entries(inputs).reduce((obj, [inputName, connection]) => {\n      const input = callback(inputName, connection);\n      obj[input.name] = input.value;\n      return obj;\n    }, {});\n  resolveInputValues = (node, nodeType, nodes, context) => {\n    let inputs = nodeType.inputs\n    if (typeof inputs === 'function') {\n      inputs = inputs(node.inputData, node.connections, context)\n    }\n    return inputs.reduce((obj, input) => {\n      const inputConnections = node.connections.inputs[input.name] || [];\n      if (inputConnections.length > 0) {\n        obj[input.name] = this.getValueOfConnection(\n          inputConnections[0],\n          nodes,\n          context\n        );\n      } else {\n        obj[input.name] = this.resolveInputControls(\n          input.type,\n          node.inputData[input.name] || {},\n          context\n        );\n      }\n      return obj;\n    }, {});\n  };\n  getValueOfConnection = (connection, nodes, context) => {\n    this.checkLoops();\n    const outputNode = nodes[connection.nodeId];\n    const outputNodeType = this.config.nodeTypes[outputNode.type];\n    const inputValues = this.resolveInputValues(\n      outputNode,\n      outputNodeType,\n      nodes,\n      context\n    );\n    const outputResult = this.fireNodeFunction(\n      outputNode,\n      inputValues,\n      outputNodeType,\n      context\n    )[connection.portName];\n    return outputResult;\n  };\n  resolveRootNode(nodes, options = {}) {\n    const rootNode = options.rootNodeId\n      ? nodes[options.rootNodeId]\n      : this.getRootNode(nodes);\n    if (rootNode) {\n      let inputs = this.config.nodeTypes[rootNode.type].inputs;\n      if (typeof inputs === 'function') {\n        inputs = inputs(rootNode.inputData, rootNode.connections, options.context);\n      }\n      const controlValues = inputs.reduce(\n        (obj, input) => {\n          obj[input.name] = this.resolveInputControls(\n            input.type,\n            rootNode.inputData[input.name] || {},\n            options.context\n          );\n          return obj;\n        },\n        {}\n      );\n      const inputValues = this.reduceRootInputs(\n        rootNode.connections.inputs,\n        (inputName, connection) => {\n          this.resetLoops(options.maxLoops);\n          let value;\n          try {\n            value = this.getValueOfConnection(\n              connection[0],\n              nodes,\n              options.context\n            );\n          } catch (e) {\n            if (e.code === LoopError.maxLoopsExceeded) {\n              console.error(`${e.message} Circular nodes detected in ${inputName} port.`);\n            } else {\n              console.error(e)\n            }\n          } finally {\n            return {\n              name: inputName,\n              value\n            };\n          }\n        }\n      );\n      if (options.onlyResolveConnected) {\n        return inputValues;\n      } else {\n        return { ...controlValues, ...inputValues };\n      }\n    } else {\n      console.error(\n        \"A root node was not found. The Root Engine requires that exactly one node be marked as the root node.\"\n      );\n      return {};\n    }\n  }\n}\n","import React from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport Stage from \"./components/Stage/Stage\";\nimport Node from \"./components/Node/Node\";\nimport Comment from \"./components/Comment/Comment\";\nimport Toaster from \"./components/Toaster/Toaster\";\nimport Connections from \"./components/Connections/Connections\";\nimport {\n  NodeTypesContext,\n  PortTypesContext,\n  NodeDispatchContext,\n  ConnectionRecalculateContext,\n  RecalculateStageRectContext,\n  ContextContext,\n  StageContext,\n  CacheContext,\n  EditorIdContext\n} from \"./context\";\nimport { createConnections } from \"./connectionCalculator\";\nimport nodesReducer, {\n  connectNodesReducer,\n  getInitialNodes\n} from \"./nodesReducer\";\nimport commentsReducer from \"./commentsReducer\";\nimport toastsReducer from \"./toastsReducer\";\nimport stageReducer from \"./stageReducer\";\nimport usePrevious from \"./hooks/usePrevious\";\nimport clamp from \"lodash/clamp\";\nimport Cache from \"./Cache\";\nimport { STAGE_ID, DRAG_CONNECTION_ID } from \"./constants\";\nimport styles from \"./styles.css\";\n\nconst defaultContext = {};\n\nexport let NodeEditor = (\n  {\n    comments: initialComments,\n    nodes: initialNodes,\n    nodeTypes = {},\n    portTypes = {},\n    defaultNodes = [],\n    context = defaultContext,\n    onChange,\n    onCommentsChange,\n    initialScale,\n    spaceToPan = false,\n    hideComments = false,\n    disableComments = false,\n    disableZoom = false,\n    disablePan = false,\n    circularBehavior,\n    renderNodeHeader,\n    debug\n  },\n  ref\n) => {\n  const editorId = useId();\n  const cache = React.useRef(new Cache());\n  const stage = React.useRef();\n  const [sideEffectToasts, setSideEffectToasts] = React.useState()\n  const [toasts, dispatchToasts] = React.useReducer(toastsReducer, []);\n  const [nodes, dispatchNodes] = React.useReducer(\n    connectNodesReducer(\n      nodesReducer,\n      { nodeTypes, portTypes, cache, circularBehavior, context },\n      setSideEffectToasts\n    ),\n    {},\n    () => getInitialNodes(initialNodes, defaultNodes, nodeTypes, portTypes, context)\n  );\n  const [comments, dispatchComments] = React.useReducer(\n    commentsReducer,\n    initialComments || {}\n  );\n  React.useEffect(() => {\n    dispatchNodes({ type: \"HYDRATE_DEFAULT_NODES\" });\n  }, []);\n  const [\n    shouldRecalculateConnections,\n    setShouldRecalculateConnections\n  ] = React.useState(true);\n  const [stageState, dispatchStageState] = React.useReducer(stageReducer, {\n    scale: typeof initialScale === \"number\" ? clamp(initialScale, 0.1, 7) : 1,\n    translate: { x: 0, y: 0 }\n  });\n\n  const recalculateConnections = React.useCallback(() => {\n    createConnections(nodes, stageState, editorId, portTypes);\n  }, [nodes, editorId, stageState, portTypes]);\n\n  const recalculateStageRect = () => {\n    stage.current = document\n      .getElementById(`${STAGE_ID}${editorId}`)\n      .getBoundingClientRect();\n  };\n\n  React.useLayoutEffect(() => {\n    if (shouldRecalculateConnections) {\n      recalculateConnections();\n      setShouldRecalculateConnections(false);\n    }\n  }, [shouldRecalculateConnections, recalculateConnections]);\n\n  const triggerRecalculation = () => {\n    setShouldRecalculateConnections(true);\n  };\n\n  React.useImperativeHandle(ref, () => ({\n    getNodes: () => {\n      return nodes;\n    },\n    getComments: () => {\n      return comments;\n    }\n  }));\n\n  const previousNodes = usePrevious(nodes);\n\n  React.useEffect(() => {\n    if (previousNodes && onChange && nodes !== previousNodes) {\n      onChange(nodes);\n    }\n  }, [nodes, previousNodes, onChange]);\n\n  const previousComments = usePrevious(comments);\n\n  React.useEffect(() => {\n    if (previousComments && onCommentsChange && comments !== previousComments) {\n      onCommentsChange(comments);\n    }\n  }, [comments, previousComments, onCommentsChange]);\n\n  React.useEffect(() => {\n    if(sideEffectToasts){\n      dispatchToasts(sideEffectToasts)\n      setSideEffectToasts(null)\n    }\n  }, [sideEffectToasts])\n\n  return (\n    <PortTypesContext.Provider value={portTypes}>\n      <NodeTypesContext.Provider value={nodeTypes}>\n        <NodeDispatchContext.Provider value={dispatchNodes}>\n          <ConnectionRecalculateContext.Provider value={triggerRecalculation}>\n            <ContextContext.Provider value={context}>\n              <StageContext.Provider value={stageState}>\n                <CacheContext.Provider value={cache}>\n                  <EditorIdContext.Provider value={editorId}>\n                    <RecalculateStageRectContext.Provider\n                      value={recalculateStageRect}\n                    >\n                      <Stage\n                        editorId={editorId}\n                        scale={stageState.scale}\n                        translate={stageState.translate}\n                        spaceToPan={spaceToPan}\n                        disablePan={disablePan}\n                        disableZoom={disableZoom}\n                        dispatchStageState={dispatchStageState}\n                        dispatchComments={dispatchComments}\n                        disableComments={disableComments || hideComments}\n                        stageRef={stage}\n                        numNodes={Object.keys(nodes).length}\n                        outerStageChildren={\n                          <React.Fragment>\n                            {debug && (\n                              <div className={styles.debugWrapper}>\n                                <button\n                                  className={styles.debugButton}\n                                  onClick={() => console.log(nodes)}\n                                >\n                                  Log Nodes\n                                </button>\n                                <button\n                                  className={styles.debugButton}\n                                  onClick={() =>\n                                    console.log(JSON.stringify(nodes))\n                                  }\n                                >\n                                  Export Nodes\n                                </button>\n                                <button\n                                  className={styles.debugButton}\n                                  onClick={() => console.log(comments)}\n                                >\n                                  Log Comments\n                                </button>\n                              </div>\n                            )}\n                            <Toaster\n                              toasts={toasts}\n                              dispatchToasts={dispatchToasts}\n                            />\n                          </React.Fragment>\n                        }\n                      >\n                        {!hideComments &&\n                          Object.values(comments).map(comment => (\n                            <Comment\n                              {...comment}\n                              stageRect={stage}\n                              dispatch={dispatchComments}\n                              onDragStart={recalculateStageRect}\n                              key={comment.id}\n                            />\n                          ))}\n                        {Object.values(nodes).map(node => (\n                          <Node\n                            {...node}\n                            stageRect={stage}\n                            onDragEnd={triggerRecalculation}\n                            onDragStart={recalculateStageRect}\n                            renderNodeHeader={renderNodeHeader}\n                            key={node.id}\n                          />\n                        ))}\n                        <Connections nodes={nodes} editorId={editorId} />\n                        <div\n                          className={styles.dragWrapper}\n                          id={`${DRAG_CONNECTION_ID}${editorId}`}\n                        ></div>\n                      </Stage>\n                    </RecalculateStageRectContext.Provider>\n                  </EditorIdContext.Provider>\n                </CacheContext.Provider>\n              </StageContext.Provider>\n            </ContextContext.Provider>\n          </ConnectionRecalculateContext.Provider>\n        </NodeDispatchContext.Provider>\n      </NodeTypesContext.Provider>\n    </PortTypesContext.Provider>\n  );\n};\nNodeEditor = React.forwardRef(NodeEditor);\nexport { FlumeConfig, Controls, Colors } from \"./typeBuilders\";\nexport { RootEngine } from \"./RootEngine\";\nexport const useRootEngine = (nodes, engine, context) =>\n  Object.keys(nodes).length ? engine.resolveRootNode(nodes, { context }) : {};\n"],"names":["canUseDOM","useLayoutEffect","useEffect","useState","_createClass","_classCallCheck","_possibleConstructorReturn","_inherits","Portal","ReactDOM","React","PropTypes","baseClamp","trimmedEndIndex","require$$0","baseTrim","isObject","freeGlobal","global","root","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","objectToString","require$$1","require$$2","baseGetTag","isObjectLike","symbolTag","isSymbol","toNumber","ContextMenu","x","y","options","onRequestClose","onOptionSelected","label","hideHeader","hideFilter","emptyText","menuWrapper","useRef","menuOptionsWrapper","filterInput","filter","setFilter","menuWidth","setMenuWidth","selectedIndex","setSelectedIndex","menuId","nanoid","handleOptionSelected","option","testClickOutside","useCallback","e","current","contains","target","document","removeEventListener","capture","testEscape","keyCode","focus","getBoundingClientRect","width","addEventListener","filteredOptions","useMemo","lowerFilter","toLowerCase","opt","includes","handleFilterChange","value","handleKeyDown","which","preventDefault","i","length","menuOption","getElementById","menuRect","optionRect","height","scrollIntoView","block","styles","stopPropagation","left","top","menuHeader","menuLabel","menuFilter","optionsWrapper","maxHeight","clamp","window","innerHeight","map","description","ContextOption","index","children","onClick","selected","onMouseEnter","NodeTypesContext","createContext","PortTypesContext","NodeDispatchContext","ConnectionRecalculateContext","ContextContext","StageContext","CacheContext","RecalculateStageRectContext","EditorIdContext","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef","rest","startCoordinates","offset","wrapper","byScale","scale","getScaledCoordinates","clientX","translate","clientY","updateCoordinates","coordinates","stopDrag","startDrag","nodeRect","checkDragDelay","touches","a","Math","abs","b","distance","round","sqrt","pow","dragDistance","endDragDelay","startDragDelay","ref","arrayMap","isArray","isKey","funcTag","isFunction","coreJsData","isMasked","funcProto","funcToString","toSource","require$$3","baseIsNative","getValue","getNative","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","require$$4","Hash","listCacheClear","eq","assocIndexOf","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","memoize","memoizeCapped","stringToPath","INFINITY","symbolProto","baseToString","toString","castPath","toKey","baseGet","stackClear","stackDelete","stackGet","stackHas","stackSet","require$$5","Stack","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","Uint8Array","mapToArray","setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","arrayBufferTag","dataViewTag","equalByTag","arrayPush","baseGetAllKeys","arrayFilter","stubArray","propertyIsEnumerable","getSymbols","baseTimes","argsTag","baseIsArguments","isArguments","MAX_SAFE_INTEGER","isIndex","isLength","arrayTag","objectTag","weakMapTag","baseIsTypedArray","baseUnary","isTypedArray","isBuffer","arrayLikeKeys","isPrototype","overArg","nativeKeys","baseKeys","isArrayLike","keys","getAllKeys","equalObjects","DataView","Promise","Set","WeakMap","require$$6","getTag","require$$7","baseIsEqualDeep","baseIsEqual","baseIsMatch","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","get","baseHasIn","hasPath","hasIn","baseMatchesProperty","identity","baseProperty","basePropertyDeep","property","baseIteratee","createBaseFor","baseFor","baseForOwn","createBaseEach","baseEach","baseMap","baseSortBy","compareAscending","compareMultiple","require$$8","baseOrderBy","STAGE_ID","DRAG_CONNECTION_ID","CONNECTIONS_ID","Stage","editorId","dispatchStageState","outerStageChildren","numNodes","stageRef","spaceToPan","dispatchComments","disableComments","disablePan","disableZoom","nodeTypes","useContext","dispatchNodes","translateWrapper","menuOpen","setMenuOpen","menuCoordinates","setMenuCoordinates","dragData","spaceIsPressed","setSpaceIsPressed","setStageRect","handleWheel","nodeName","dataset","comment","clientHeight","scrollHeight","delta","deltaY","type","handleDragDelayStart","handleDragStart","handleMouseDrag","coords","xDistance","yDistance","style","transform","handleDragEnd","tran","handleContextMenu","closeContextMenu","addNode","node","internalType","wrapperRect","nodeType","handleDocumentKeyUp","activeElement","handleMouseEnter","stageWrapper","menuOptions","orderBy","Object","values","addable","sortIndex","push","cursor","transformWrapper","scaleWrapper","pointX","pointY","getPort","nodeId","portName","transputType","querySelector","getPortRect","cache","portCacheName","cachedPort","ports","port","calculateCurve","from","to","thirdLength","curve","line","curveBasis","deleteConnection","id","parentNode","remove","deleteConnectionsByNodeId","lines","querySelectorAll","updateConnection","setAttribute","createSVG","stage","outputNodeId","outputPortName","inputNodeId","inputPortName","stroke","svg","createElementNS","path","appendChild","getStageRef","createConnections","nodes","portTypes","stageId","stageHalfWidth","stageHalfHeight","forEach","connections","inputs","entries","k","inputName","outputs","output","fromPort","toPort","portHalf","existingLine","Checkbox","data","onChange","checkbox","checked","TextInput","placeholder","updateNodeConnections","step","numberInput","recalculateStageRect","handleMouseMove","handlePossibleResize","inputValue","replace","parseFloat","Number","isNaN","input","MAX_LABEL_LENGTH","Select","allowMultiple","drawerOpen","setDrawerOpen","drawerCoordinates","setDrawerCoordinates","closeDrawer","openDrawer","handleOptionDeleted","optionIndex","slice","getFilteredOptions","selectedOption","find","o","chipsWrapper","val","optLabel","selectStyles","SelectedOption","wrapperRef","selectedWrapper","OptionChip","onRequestDelete","chipWrapper","deleteButton","Control","name","inputLabel","allData","render","inputData","triggerRecalculation","getOptions","setValue","defaultValue","isMonoControl","nodesDispatch","executionContext","calculatedLabel","controlName","getControlByType","commonProps","controlLabel","Connection","lineRef","usePrevious","useTransputs","transputsFn","transputs","Array","prevTransputs","transput","IoPorts","inputTypes","resolvedInputs","resolvedOutputs","Input","localControls","controls","noControls","isConnected","hidePort","defaultLabel","color","defaultControls","prevConnected","portLabel","control","Output","Port","isInput","isDragging","setIsDragging","dragStartCoordinates","setDragStartCoordinates","dragStartCoordinatesCache","lineInToPort","handleDrag","droppedOnPort","connectToPortName","connectToNodeId","connectToPortType","portType","connectToTransputType","portTransputType","isNotSameNode","inputWillAcceptConnection","acceptTypes","inputNodeType","inputTransputType","startPort","portIsConnected","zIndex","outputPort","canConnect","maxOutputs","Node","renderNodeHeader","currentNodeType","deletable","nodeWrapper","updateConnectionsByTransput","isOutput","toRect","fromRect","combined","cnx","cachedConnection","deleteNode","handleMenuOption","NodeHeader","openMenu","closeMenu","className","props","define","undefined","buildControlType","defaultConfig","validate","setup","config","Controls","text","select","number","multiselect","custom","Colors","yellow","orange","red","pink","purple","blue","green","grey","getPortBuilders","reduce","obj","FlumeConfig","addNodeType","Error","initialWidth","console","error","Infinity","skipDynamicNodesCheck","dynamicNodes","warn","affectedNodes","p","n","join","onColorPicked","ColorButton","onSelected","colorButtonWrapper","colorButton","dispatch","isNew","textarea","isEditing","setIsEditing","isPickingColor","setIsPickingColor","colorPickerCoordinates","setColorPickerCoordinates","_","handleResize","handleResizeEnd","startTextEdit","endTextEdit","handleTextChange","handleColorPicked","resizeThumb","toasts","dispatchToasts","setHeight","startExit","removeToast","toaster","toast","t","Toast","title","message","duration","exiting","onHeightReceived","onExitRequested","onRemoveRequested","paused","setPaused","timer","stopTimer","clearTimeout","resumeTimer","setTimeout","handleAnimationEnd","animationDuration","exitButton","Connections","svgWrapper","checkForCircularNodes","startNodeId","isCircular","walk","outputConnections","connectedTo","addConnection","newNodes","removeConnection","inputNode","newInputNodeConnectionsInputs","newInputNode","outputNode","filteredOutputNodes","newOutputNode","getFilteredTransputs","newTransputs","removeConnections","removeNode","startNodes","reconcileNodes","initialNodes","context","nodesToDelete","nodesReducer","reconciledNodes","nodesObj","defaultInputData","getDefaultData","currentInputData","dataObj","key","newInputData","newNode","getInitialNodes","defaultNodes","dNode","nodeNotAdded","defaultNode","inputType","obj2","action","circularBehavior","inputIsNotConnected","allowCircular","toastType","portId","cnxType","newNodeId","newData","connectNodesReducer","reducer","environment","state","setComment","comments","merge","newComments","findIndex","incomingAction","Cache","LoopError","code","RootEngine","resolveInputControls","fireNodeFunction","maxLoops","loops","maxLoopsExceeded","roots","callback","connection","inputConnections","getValueOfConnection","checkLoops","outputNodeType","inputValues","resolveInputValues","outputResult","rootNode","rootNodeId","getRootNode","controlValues","reduceRootInputs","resetLoops","onlyResolveConnected","defaultContext","NodeEditor","initialComments","onCommentsChange","initialScale","hideComments","debug","useId","sideEffectToasts","setSideEffectToasts","useReducer","toastsReducer","commentsReducer","shouldRecalculateConnections","setShouldRecalculateConnections","stageReducer","recalculateConnections","useImperativeHandle","getNodes","getComments","previousNodes","previousComments","debugWrapper","debugButton","log","JSON","stringify","dragWrapper","forwardRef","useRootEngine","engine","resolveRootNode"],"mappings":"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"}